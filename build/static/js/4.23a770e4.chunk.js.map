{"version":3,"file":"static/js/4.23a770e4.chunk.js","mappings":"gUAwFA,MA/EA,SAASA,EAAW,GAAwC,IAAD,MAArCC,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAKC,EAAU,EAAVA,WAAYC,EAAG,EAAHA,IAC5CC,GAAaC,EAAAA,EAAAA,MACXC,EAAsBN,EAAtBM,QAASC,EAAaP,EAAbO,UAEjBC,EAAAA,EAAAA,YAAU,WACRT,GAAS,CACX,GAAG,IAEH,IA6CgE,EANhE,EAAkCU,EAAAA,GAAAA,YAAqBH,EAAQI,KAAvDC,EAAS,EAATA,UAAiBC,EAAI,EAAVC,KACfC,EAAsB,OAAb,OAAJF,QAAI,IAAJA,OAAI,EAAJA,EAAMG,UAAsB,OAAJH,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,WAAN,EAAJ,EAAYN,UACzCS,EAA0B,OAAb,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMG,QAAqB,OAAJH,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,WAAN,EAAJ,EAAYG,OAAS,GAEnDC,EAAcD,GAA4B,IAAlBA,EAAOE,OAyBrC,OAvBID,GAAmD,WAAhC,OAAJL,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,WAAN,EAAJ,EAAYG,OAAO,GAAGG,aACvCH,EAAa,OAAJJ,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,WAAN,EAAJ,EAAYG,OAAOI,YAiB5B,SAAC,IAAQ,CAAWC,OA7DlB,SAACnB,EAAU,WACT,iBAEEoB,KAAK,SACLC,QAAS,kBACNjB,EAAQkB,IAOLpB,EAAW,SAAU,CACnBqB,MAAO,CACLC,OAAQpB,EAAQI,OARpBN,EAAW,OAAQ,CACjBqB,MAAO,CACLtB,IAAoB,kBAARA,EAAmBA,EAAMI,EACrCY,UAAmB,IAARlB,EAAY,OAAS,UAOlC,EACP,WAED,SAAC,KAAM,CAAC0B,IAAKC,EAAOC,OAAQ,GAAIC,IAAI,UACpC,iBACEC,UACGzB,EAAQkB,IACwC,6CAE1ClB,EAAQ0B,YAAkC,gBAApB,mBAFzB,8CAIL,WAED,yBAAM1B,EAAQkB,IAAMlB,EAAQkB,IAAM,MAClC,yBAAMlB,EAAQ2B,oBA+BoB,SAbtChB,GAAelB,EAAQ,EAClBiB,EAAOkB,KAAI,SAACC,EAAOC,GACxB,OAAOzB,GACL,8BAAE,QAEF,SAACb,EAAU,CAASE,KAAMmC,EAAOlC,IAAKmC,EAAGlC,WAAYA,EAAYC,IAAKW,GAArDsB,EAErB,IAEK,MAIQnC,EAMnB,E,sBClBA,I,sBC9DIoC,EAAQ,GAwDZ,MAvDA,SAASC,EAAW,GAAmC,IAAD,IAAhCvC,EAAK,EAALA,MAAOC,EAAI,EAAJA,KAAMC,EAAG,EAAHA,IAAKC,EAAU,EAAVA,WAC9BI,EAAYN,EAAZM,QACR+B,EAAK,kBAAOA,GAAK,CAAmB,QAAV,OAAP/B,QAAO,IAAPA,OAAO,EAAPA,EAASI,MAAgBJ,KAC5CE,EAAAA,EAAAA,YAAU,WACRT,GAAS,CACX,GAAG,IAEH,MAAkCU,EAAAA,GAAAA,YAA4B,OAAPH,QAAO,IAAPA,OAAO,EAAPA,EAASI,KAAxDC,EAAS,EAATA,UAAiBC,EAAI,EAAVC,KAEfG,GADsB,OAAb,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMG,UAAsB,OAAJH,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,OAAV,EAAYN,UACf,OAAb,OAAJK,QAAI,IAAJA,OAAI,EAAJA,EAAMG,QAAqB,OAAJH,QAAI,IAAJA,GAAU,QAAN,EAAJA,EAAMC,YAAI,WAAN,EAAJ,EAAYG,OAAS,IAEnDC,EAAcD,GAA4B,IAAlBA,EAAOE,OAyCrC,OAzBE,gCACmB,OAAhBZ,EAAQI,MACP,UAAC,KAAS,CAAC,QAAM,qBAAoB,WACnC,SAAC,KAAc,UAAE,OACjB,UAAC,KAAc,YACb,0BAAa,OAAPJ,QAAO,IAAPA,OAAO,EAAPA,EAAS2B,WAAY,KAAa,OAAP3B,QAAO,IAAPA,OAAO,EAAPA,EAASiC,aAC1C,iBAAKR,UAAU,6BAA4B,WACzC,0BAAO,UAAe,mBAAiBS,EAAAA,GAAAA,eAAiC,OAAPlC,QAAO,IAAPA,OAAO,EAAPA,EAASmC,kBAI9E,SAAC,KAAc,UAAS,OAAPnC,QAAO,IAAPA,OAAO,EAAPA,EAASkB,OAC1B,SAAC,KAAc,WACb,yBACE,SAAC,KAAM,CAACkB,GAAW,OAAPpC,QAAO,IAAPA,OAAO,EAAPA,EAASI,IAAKiC,MAAc,OAAPrC,QAAO,IAAPA,GAAAA,EAAS0B,YAAc,UAAY,SAAS,SACnE,OAAP1B,QAAO,IAAPA,GAAAA,EAAS0B,YAAc,SAAW,mBAbA/B,GAf3CgB,EACKD,EAAOkB,KAAI,SAACC,EAAOC,GAAO,IAAD,EAC9B,OAAOzB,GAAqC,QAAnB,OAALwB,QAAK,IAALA,GAAc,QAAT,EAALA,EAAO7B,eAAO,WAAT,EAAL,EAAgBI,MAClC,8BAAE,QAEF,SAAC4B,EAAU,CAACvC,MAAOA,IAAiBC,KAAMmC,EAAOlC,IAAKmC,EAAGlC,WAAYA,GAApCkC,EAErC,IAEK,OA8BX,E,iBC1BMlC,EAAa0C,EAAAA,GAAAA,IAAU,mEAkM7B,MA9LA,WAAqB,IAAD,0BAEoB,GAAbC,EAAAA,EAAAA,MAAjBpB,MAAAA,OAAK,MAAG,KAAI,EACdqB,GAAWD,EAAAA,EAAAA,MACXE,GAAW1C,EAAAA,EAAAA,MACX2C,GAAOC,EAAAA,EAAAA,kBACb,GAA4BC,EAAAA,EAAAA,UAAS,GAAE,eAAhCC,EAAM,KAAEC,EAAS,KACxB,GAAwBF,EAAAA,EAAAA,UAAS,CAAEG,MAAO,EAAGC,OAAQ,EAAGC,SAAU,IAAI,eACtE,GADW,KAAS,MACUL,EAAAA,EAAAA,UAAS,CACrCM,SAAS,EACTC,SAAU,UACV,eAHKD,EAAO,KAAEE,EAAU,KAI1B,GAAoCR,EAAAA,EAAAA,UAAS,GAAE,eAAxCS,EAAU,KAAEC,EAAa,KAChC,GAAsCV,EAAAA,EAAAA,UAAS,GAAE,eAA1CW,EAAW,KAAEC,EAAc,MAClCtD,EAAAA,EAAAA,YAAU,WACRuC,EAASD,EAASiB,SAAU,CAAC,EAC/B,GAAG,CAACZ,KAEJ3C,EAAAA,EAAAA,YAAU,WACgB,aAYvB,OAZuB,0BAAxB,mGACQwD,EAAAA,EAAAA,IACC,kBAAD,OAAmBhB,EAAKtC,IAAG,mBAC9BuD,MAAK,SAACC,GACLN,EAAsB,OAARM,QAAQ,IAARA,OAAQ,EAARA,EAAUZ,OAC1B,IACCW,KAAI,yCACH,WAAOE,GAAiB,sFAAWH,EAAAA,EAAAA,IAAU,kBAAD,OAAmBhB,EAAKtC,IAAG,oBAAkB,sIADtF,IAGJuD,MAAK,SAACC,GACLJ,EAAuB,OAARI,QAAQ,IAARA,OAAQ,EAARA,EAAUZ,OAC3B,IAAE,2CACL,yBAbc,WACS,wBAaxBc,EACF,GAAG,IAEH,IAKiD,GAL3C1C,GAASD,GAAc,OAALA,QAAK,IAALA,GAAAA,EAAOC,OAAc,OAALD,QAAK,IAALA,OAAK,EAALA,EAAOC,OAASsB,EAAKtC,IACrDG,GAASJ,EAAAA,GAAAA,YAAqBiB,IAA9Bb,KACMwD,GAAgB5D,EAAAA,GAAAA,oBAAtBI,KACR,GAAgDJ,EAAAA,GAAAA,eAAwB+C,EAAQC,SAAU/B,IAAvE4C,GAAI,GAAfC,UAAuBC,GAAG,GAAT3D,KAAW4D,GAAO,GAAPA,QAChCzD,GAAa,OAAJH,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,WAAN,EAAJ,EAAYG,OAQzB,MAPwC,WAAhC,OAAJH,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,WAAN,EAAJ,EAAYG,OAAO,GAAGG,aACxBH,GAAa,OAAJH,SAAI,IAAJA,IAAU,QAAN,GAAJA,GAAMA,YAAI,YAAN,EAAJ,GAAYG,OAAOI,YAE9BZ,EAAAA,EAAAA,YAAU,WACRiE,IACF,GAAG,CAACjB,EAAQC,YAGV,iCACE,SAAC,KAAI,WACH,SAAC,KAAI,CAACiB,GAAI,GAAG,UACX,UAAC,KAAK,CAAC3C,UAAU,OAAM,WACrB,UAAC,KAAW,YACV,4BAAQ,qBACR,UAAC,KAAO,CAACY,MAAM,eAAeZ,UAAU,YAAW,UAAC,WAC9B,OAAXsC,SAAW,IAAXA,QAAW,EAAXA,GAAaM,cAiB1B,UAAC,KAAS,CAAC5C,UAAU,YAAW,UAC7BN,IAAc,OAALA,QAAK,IAALA,OAAK,EAALA,EAAOC,UACf,UAAC,KAAO,CAACkD,KAAK,KAAKrD,QAAS,kBAAM6B,EAAUyB,KAAKC,SAAS,EAAC,UACxD,aACD,SAAC,IAAK,CAACC,KAAMC,EAAAA,QAGjB,UAAC,KAAO,CACNrC,MAAM,eACNpB,QAAS,kBAAMmC,EAAW,CAAEF,SAAUA,EAAQA,QAASC,SAAU,SAAU,EAC3E1B,UAAU,YAAW,UACtB,SACQ8B,MAET,UAAC,KAAO,CACNlB,MAAM,eACNpB,QAAS,kBAAMmC,EAAW,CAAEF,SAAUA,EAAQA,QAASC,SAAU,QAAS,EAC1E1B,UAAU,GAAE,UACb,QACO4B,MAER,SAAC,IAAI,CACHsB,UAAW,MACXC,UAAW,QACXC,iBAAkB,OAClB9D,OACE,UAACnB,EAAU,YACT,SAAC,KAAM,CAACyB,IAAKC,EAAOC,OAAQ,GAAIC,IAAI,UACpC,iBACEC,UAAS,6CACNN,EAIO,OAAJZ,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,OAAU,QAAV,EAAV,EAAYN,gBAAQ,OAApB,EAAsByB,YACtB,gBACA,kBALI,OAAJnB,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,OAAU,QAAV,EAAV,EAAYN,gBAAQ,OAApB,EAAsByB,YACpB,gBACA,cAIL,WAEH,yBAAU,OAAJnB,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,OAAU,QAAV,EAAV,EAAYN,gBAAQ,OAApB,EAAsBiB,IAAU,OAAJX,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,OAAU,QAAV,EAAV,EAAYN,gBAAQ,WAAhB,EAAJ,EAAsBiB,IAAM,MAC9D,yBAAU,OAAJX,SAAI,IAAJA,IAAU,QAAN,EAAJA,GAAMA,YAAI,OAAU,QAAV,EAAV,EAAYN,gBAAQ,WAAhB,EAAJ,EAAsB0B,kBAGjC,SAEAjB,KACO,QADD,EACLA,UAAM,aAAN,EAAQkB,KAAI,SAACC,EAAOC,GAClB,OACE,SAAC,EAAU,CACTrC,MAxHD,EA0HCC,KAAMmC,EACNlC,IAAKmC,EACLlC,WAAYA,EACZC,IAAS,OAAJU,SAAI,IAAJA,QAAI,EAAJA,GAAMA,KAAKN,UAJX6B,EAOX,kBAOZ,UAAC,KAAM,CACLgD,WAAW,KACX5B,QAASA,EAAQA,QACjB6B,QAAS,WACP3B,GAAW,kBAAKF,GAAO,IAAEA,SAAS,IACpC,EAAE,WAEF,SAAC,KAAY,WACX,UAAC,KAAW,WAAEA,EAAQC,SAAS,wBAEjC,SAAC,KAAU,CAAC1B,UAAU,gBAAe,UACnC,UAAC,KAAI,YACDuC,KACA,UAAC,KAAO,YACN,yBACE,SAAC,KAAM,CAAC3B,MAAO,UAAU,SAAE,WAAe,OAAH6B,SAAG,IAAHA,QAAG,EAAHA,GAAKnB,YAE9C,yBACE,SAAC,KAAM,CAACV,MAAO,UAAU,SAAE,YAAgB,OAAH6B,SAAG,IAAHA,QAAG,EAAHA,GAAKlB,aAE/C,yBACE,SAAC,KAAM,CAACX,MAAO,SAAS,SAAE,cAAkB,OAAH6B,SAAG,IAAHA,QAAG,EAAHA,GAAKjB,kBAIpD,UAAC,KAAM,CAAC+B,MAAM,SAASC,UAAQ,EAACxD,UAAU,cAAcyD,OAAK,EAACC,YAAU,EAACC,SAAO,aAC9E,SAAC,IAAU,CAAC/C,MAAM,QAAO,UACvB,UAAC,KAAS,YACR,SAAC,KAAgB,UAAC,YAClB,SAAC,KAAgB,UAAC,UAClB,SAAC,KAAgB,UAAC,aAClB,SAAC,KAAgB,UAAC,iBAGtB,SAAC,KAAU,UACR3B,KACC,SAAC,EAAU,CACTjB,MA5KG,EA8KHC,KAAMgB,GAAO2E,QAAO,SAACC,GAAG,OAAKA,EAAIzE,YAAcqC,EAAQC,QAAQ,IAAE,GACjExD,IAAK,EACLC,WAAYA,EACZC,IAAS,OAAJU,SAAI,IAAJA,QAAI,EAAJA,GAAMA,KAAKN,UAJX,kBAczB,C","sources":["components/FamilyTree.js","views/users/LeftRightTeam.js","components/FamilyList.js","views/users/GetUsers.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\n\r\nimport { TreeNode } from 'react-organizational-chart'\r\nimport PropTypes from 'prop-types'\r\nimport { usersApi } from 'src/APIs'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport brand from 'src/assets/sonaxmultitrade.png'\r\nimport { CImage } from '@coreui/react'\r\n\r\nfunction FamilyTree({ count, item, num, StyledNode, pId }) {\r\n  const navigation = useNavigate()\r\n  const { childId, parentId } = item\r\n\r\n  useEffect(() => {\r\n    count += 1\r\n  }, [])\r\n\r\n  const renderBranch = () => {\r\n    return (\r\n      <StyledNode>\r\n        <div\r\n          // role={!childId.uId ? 'button' : ''}\r\n          role=\"button\"\r\n          onClick={() =>\r\n            !childId.uId\r\n              ? navigation('/add', {\r\n                  state: {\r\n                    pId: typeof pId === 'string' ? pId : parentId,\r\n                    placement: num === 0 ? 'Left' : 'Right',\r\n                  },\r\n                })\r\n              : navigation('/users', {\r\n                  state: {\r\n                    userId: childId._id,\r\n                  },\r\n                })\r\n          }\r\n        >\r\n          <CImage src={brand} height={50} alt=\"Logo\" />\r\n          <div\r\n            className={\r\n              !childId.uId\r\n                ? 'border border-success tree-content app-bg-2'\r\n                : `border border-success tree-content ${\r\n                    !childId.isCompleted ? 'app-bg-inactive' : 'app-bg-active'\r\n                  }`\r\n            }\r\n          >\r\n            <div>{childId.uId ? childId.uId : ''}</div>\r\n            <div>{childId.firstName}</div>\r\n          </div>\r\n        </div>\r\n      </StyledNode>\r\n    )\r\n  }\r\n\r\n  const { isloading, data: resp } = usersApi.useGetTeams(childId._id)\r\n  var pD = resp?.status === 200 && resp?.data?.parentId\r\n  var childs = resp?.status === 200 ? resp?.data?.childs : []\r\n\r\n  const hasChildren = childs && childs.length !== 0\r\n\r\n  if (hasChildren && resp?.data?.childs[0].placement === 'Right') {\r\n    childs = resp?.data?.childs.reverse()\r\n  }\r\n\r\n  const newChild = () => {\r\n    if (hasChildren && count < 6) {\r\n      return childs.map((child, n) => {\r\n        return isloading ? (\r\n          <>OK</>\r\n        ) : (\r\n          <FamilyTree key={n} item={child} num={n} StyledNode={StyledNode} pId={pD} />\r\n        )\r\n      })\r\n    }\r\n    return null\r\n  }\r\n\r\n  const StyledTreeExample = () => (\r\n    <TreeNode key={num} label={renderBranch()}>\r\n      {newChild()}\r\n    </TreeNode>\r\n  )\r\n\r\n  return StyledTreeExample()\r\n}\r\n\r\nexport default FamilyTree\r\n\r\nFamilyTree.propTypes = {\r\n  item: PropTypes.object,\r\n  num: PropTypes.number,\r\n  pId: PropTypes.any,\r\n  StyledNode: PropTypes.any,\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { usersApi } from 'src/APIs'\r\nimport {\r\n  CBadge,\r\n  CHeader,\r\n  CRow,\r\n  CTable,\r\n  CTableBody,\r\n  CTableDataCell,\r\n  CTableHead,\r\n  CTableHeaderCell,\r\n  CTableRow,\r\n} from '@coreui/react'\r\n\r\nfunction LeftRightTeam({ position, userId }) {\r\n  const { isLoading, data: resp } = usersApi.useGetTeamList(position, userId)\r\n\r\n  return (\r\n    <CRow className=\"table-row\">\r\n      <CHeader>\r\n        <h5>\r\n          <CBadge color={'primary'}>{'Total: ' + resp?.total}</CBadge>\r\n        </h5>\r\n        <h5>\r\n          <CBadge color={'success'}>{'Active: ' + resp?.active}</CBadge>\r\n        </h5>\r\n        <h5>\r\n          <CBadge color={'danger'}>{'Inactive: ' + resp?.inActive}</CBadge>\r\n        </h5>\r\n      </CHeader>\r\n      <CTable align=\"middle\" bordered className=\"mb-0 border\" hover responsive striped>\r\n        <CTableHead color=\"light\">\r\n          <CTableRow>\r\n            <CTableHeaderCell>S. No.</CTableHeaderCell>\r\n            <CTableHeaderCell>Name</CTableHeaderCell>\r\n            <CTableHeaderCell>User Id</CTableHeaderCell>\r\n            <CTableHeaderCell>Status</CTableHeaderCell>\r\n          </CTableRow>\r\n        </CTableHead>\r\n        <CTableBody>\r\n          {!isLoading &&\r\n            resp?.data.map((item, index) => (\r\n              <CTableRow v-for=\"item in tableItems\" key={index}>\r\n                <CTableDataCell>{index + 1}</CTableDataCell>\r\n                <CTableDataCell>\r\n                  <div>{item.firstName + ' ' + item.lastName}</div>\r\n                  <div className=\"small text-medium-emphasis\">\r\n                    <span>{'New |'}</span> Registered on: {'01/02/2023'}\r\n                  </div>\r\n                </CTableDataCell>\r\n\r\n                <CTableDataCell>{item.uId}</CTableDataCell>\r\n                <CTableDataCell>\r\n                  <h5>\r\n                    <CBadge id={item._id} color={item.isCompleted ? 'success' : 'danger'}>\r\n                      {item.isCompleted ? 'Active' : 'Inactive'}\r\n                    </CBadge>\r\n                  </h5>\r\n                </CTableDataCell>\r\n              </CTableRow>\r\n            ))}\r\n        </CTableBody>\r\n      </CTable>\r\n    </CRow>\r\n  )\r\n}\r\n\r\nexport default LeftRightTeam\r\n\r\nLeftRightTeam.propTypes = {\r\n  position: PropTypes.string,\r\n  userId: PropTypes.any,\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport { usersApi } from 'src/APIs'\r\nimport { CBadge, CTableDataCell, CTableRow } from '@coreui/react'\r\nimport { dateHelper } from 'src/helpers'\r\nlet users = []\r\nfunction FamilyList({ count, item, num, StyledNode }) {\r\n  const { childId } = item\r\n  users = [...users, childId?._id !== null && childId]\r\n  useEffect(() => {\r\n    count += 1\r\n  }, [])\r\n\r\n  const { isloading, data: resp } = usersApi.useGetTeams(childId?._id)\r\n  var pD = resp?.status === 200 && resp?.data?.parentId\r\n  var childs = resp?.status === 200 ? resp?.data?.childs : []\r\n\r\n  const hasChildren = childs && childs.length !== 0\r\n  // sendDataToParent(arrUnique(filterUsers()))\r\n  const newChild = () => {\r\n    if (hasChildren) {\r\n      return childs.map((child, n) => {\r\n        return isloading && child?.childId?._id === null ? (\r\n          <>OK</>\r\n        ) : (\r\n          <FamilyList count={count++} key={n} item={child} num={n} StyledNode={StyledNode} />\r\n        )\r\n      })\r\n    }\r\n    return null\r\n  }\r\n\r\n  const StyledTreeExample = () => (\r\n    <>\r\n      {childId._id !== null && (\r\n        <CTableRow v-for=\"item in tableItems\" key={num}>\r\n          <CTableDataCell>{'#'}</CTableDataCell>\r\n          <CTableDataCell>\r\n            <div>{childId?.firstName + ' ' + childId?.lastName}</div>\r\n            <div className=\"small text-medium-emphasis\">\r\n              <span>{'New |'}</span> Registered on: {dateHelper.formatRegister(childId?.createdAt)}\r\n            </div>\r\n          </CTableDataCell>\r\n\r\n          <CTableDataCell>{childId?.uId}</CTableDataCell>\r\n          <CTableDataCell>\r\n            <h5>\r\n              <CBadge id={childId?._id} color={childId?.isCompleted ? 'success' : 'danger'}>\r\n                {childId?.isCompleted ? 'Active' : 'Inactive'}\r\n              </CBadge>\r\n            </h5>\r\n          </CTableDataCell>\r\n        </CTableRow>\r\n      )}\r\n      {newChild()}\r\n    </>\r\n  )\r\n\r\n  return StyledTreeExample()\r\n}\r\n\r\nexport default FamilyList\r\n\r\nFamilyList.propTypes = {\r\n  item: PropTypes.any,\r\n  num: PropTypes.number,\r\n  StyledNode: PropTypes.any,\r\n}\r\n\r\nfunction filterUsers() {\r\n  if (users.length > 0) {\r\n    users = users.filter((res) => res !== false)\r\n  }\r\n  return users\r\n}\r\n\r\nfunction arrUnique(arr) {\r\n  var clean = arr.filter((arr, index, self) => index === self.findIndex((t) => t.uId === arr.uId))\r\n\r\n  return clean\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { usersApi } from 'src/APIs'\r\nimport { Tree } from 'react-organizational-chart'\r\nimport styled from 'styled-components'\r\nimport { getProfileData } from 'src/helpers/tokenLS'\r\nimport brand from 'src/assets/sonaxmultitrade.png'\r\nimport FamilyTree from 'src/components/FamilyTree'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CHeader,\r\n  CImage,\r\n  CModal,\r\n  CModalBody,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CTable,\r\n  CTableBody,\r\n  CTableHead,\r\n  CTableHeaderCell,\r\n  CTableRow,\r\n} from '@coreui/react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport CIcon from '@coreui/icons-react'\r\nimport { cilArrowTop } from '@coreui/icons'\r\nimport LeftRightTeam from './LeftRightTeam'\r\nimport FamilyList from 'src/components/FamilyList'\r\nimport axios from 'src/axios'\r\n\r\nconst StyledNode = styled.div`\r\n  padding: 5px;\r\n  display: inline-block;\r\n`\r\nfunction GetUsers() {\r\n  let instancesCount = 0\r\n  const { state = null } = useLocation()\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n  const user = getProfileData()\r\n  const [reload, setReload] = useState(1)\r\n  const [tabs, setTabs] = useState({ total: 0, active: 0, inActive: 0 })\r\n  const [visible, setVisible] = useState({\r\n    visible: false,\r\n    position: 'Left',\r\n  })\r\n  const [leftActive, setLeftActive] = useState(0)\r\n  const [rightActive, setRightActive] = useState(0)\r\n  useEffect(() => {\r\n    navigate(location.pathname, {})\r\n  }, [reload])\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await axios\r\n        .get(`users/teamList/${user._id}?position=Left`)\r\n        .then((response) => {\r\n          setLeftActive(response?.active)\r\n        })\r\n        .then(\r\n          async (casesHeaderFields) => await axios.get(`users/teamList/${user._id}?position=Right`),\r\n        )\r\n        .then((response) => {\r\n          setRightActive(response?.active)\r\n        })\r\n    }\r\n    fetchData()\r\n  }, [])\r\n\r\n  const userId = state && state?.userId ? state?.userId : user._id\r\n  const { data } = usersApi.useGetTeams(userId)\r\n  const { data: directCount } = usersApi.useGetDirectTeams()\r\n  const { isLoading: load, data: tbs, refetch } = usersApi.useGetTeamList(visible.position, userId)\r\n  var childs = data?.data?.childs\r\n  if (data?.data?.childs[0].placement === 'Right') {\r\n    childs = data?.data?.childs.reverse()\r\n  }\r\n  useEffect(() => {\r\n    refetch()\r\n  }, [visible.position])\r\n\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol xs={12}>\r\n          <CCard className=\"mb-4\">\r\n            <CCardHeader>\r\n              <strong>All Team&apos;s Tree</strong>\r\n              <CButton color=\"primary mx-2\" className=\"float-end\">\r\n                Direct: {directCount?.direct}\r\n              </CButton>\r\n              {/* <CButton\r\n                color=\"primary mx-2\"\r\n                onClick={() => setVisible({ visible: !visible.visible, position: 'Right' })}\r\n                className=\"float-end\"\r\n              >\r\n                Right\r\n              </CButton>\r\n              <CButton\r\n                color=\"primary mx-2\"\r\n                onClick={() => setVisible({ visible: !visible.visible, position: 'Left' })}\r\n                className=\"float-end\"\r\n              >\r\n                Left\r\n              </CButton> */}\r\n            </CCardHeader>\r\n            <CCardBody className=\"divScroll\">\r\n              {state && state?.userId && (\r\n                <CButton size=\"sm\" onClick={() => setReload(Math.random())}>\r\n                  {'Go to top'}\r\n                  <CIcon icon={cilArrowTop} />\r\n                </CButton>\r\n              )}\r\n              <CButton\r\n                color=\"primary mx-2\"\r\n                onClick={() => setVisible({ visible: !visible.visible, position: 'Right' })}\r\n                className=\"float-end\"\r\n              >\r\n                Right {rightActive}\r\n              </CButton>\r\n              <CButton\r\n                color=\"primary mx-2\"\r\n                onClick={() => setVisible({ visible: !visible.visible, position: 'Left' })}\r\n                className=\"\"\r\n              >\r\n                Left {leftActive}\r\n              </CButton>\r\n              <Tree\r\n                lineWidth={'2px'}\r\n                lineColor={'green'}\r\n                lineBorderRadius={'10px'}\r\n                label={\r\n                  <StyledNode>\r\n                    <CImage src={brand} height={50} alt=\"Logo\" />\r\n                    <div\r\n                      className={`border border-success tree-content ${\r\n                        !state\r\n                          ? data?.data?.parentId?.isCompleted\r\n                            ? 'app-bg-active'\r\n                            : 'app-bg-top'\r\n                          : data?.data?.parentId?.isCompleted\r\n                          ? 'app-bg-active'\r\n                          : 'app-bg-inactive'\r\n                      }`}\r\n                    >\r\n                      <div>{data?.data?.parentId?.uId ? data?.data?.parentId?.uId : ''}</div>\r\n                      <div>{data?.data?.parentId?.firstName}</div>\r\n                    </div>\r\n                  </StyledNode>\r\n                }\r\n              >\r\n                {childs &&\r\n                  childs?.map((child, n) => {\r\n                    return (\r\n                      <FamilyTree\r\n                        count={instancesCount}\r\n                        key={n}\r\n                        item={child}\r\n                        num={n}\r\n                        StyledNode={StyledNode}\r\n                        pId={data?.data.parentId}\r\n                      />\r\n                    )\r\n                  })}\r\n              </Tree>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n\r\n      <CModal\r\n        fullscreen=\"lg\"\r\n        visible={visible.visible}\r\n        onClose={() => {\r\n          setVisible({ ...visible, visible: false })\r\n        }}\r\n      >\r\n        <CModalHeader>\r\n          <CModalTitle>{visible.position} Side Team List</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody className=\"overflow-auto\">\r\n          <CRow>\r\n            {!load && (\r\n              <CHeader>\r\n                <h5>\r\n                  <CBadge color={'primary'}>{'Total: ' + tbs?.total}</CBadge>\r\n                </h5>\r\n                <h5>\r\n                  <CBadge color={'success'}>{'Active: ' + tbs?.active}</CBadge>\r\n                </h5>\r\n                <h5>\r\n                  <CBadge color={'danger'}>{'Inactive: ' + tbs?.inActive}</CBadge>\r\n                </h5>\r\n              </CHeader>\r\n            )}\r\n            <CTable align=\"middle\" bordered className=\"mb-0 border\" hover responsive striped>\r\n              <CTableHead color=\"light\">\r\n                <CTableRow>\r\n                  <CTableHeaderCell>S. No.</CTableHeaderCell>\r\n                  <CTableHeaderCell>Name</CTableHeaderCell>\r\n                  <CTableHeaderCell>User Id</CTableHeaderCell>\r\n                  <CTableHeaderCell>Status</CTableHeaderCell>\r\n                </CTableRow>\r\n              </CTableHead>\r\n              <CTableBody>\r\n                {childs && (\r\n                  <FamilyList\r\n                    count={instancesCount}\r\n                    key={0}\r\n                    item={childs.filter((res) => res.placement === visible.position)[0]}\r\n                    num={0}\r\n                    StyledNode={StyledNode}\r\n                    pId={data?.data.parentId}\r\n                  />\r\n                )}\r\n              </CTableBody>\r\n            </CTable>\r\n          </CRow>\r\n        </CModalBody>\r\n      </CModal>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default GetUsers\r\n"],"names":["FamilyTree","count","item","num","StyledNode","pId","navigation","useNavigate","childId","parentId","useEffect","usersApi","_id","isloading","resp","data","pD","status","childs","hasChildren","length","placement","reverse","label","role","onClick","uId","state","userId","src","brand","height","alt","className","isCompleted","firstName","map","child","n","users","FamilyList","lastName","dateHelper","createdAt","id","color","styled","useLocation","location","navigate","user","getProfileData","useState","reload","setReload","total","active","inActive","visible","position","setVisible","leftActive","setLeftActive","rightActive","setRightActive","pathname","axios","then","response","casesHeaderFields","fetchData","directCount","load","isLoading","tbs","refetch","xs","direct","size","Math","random","icon","cilArrowTop","lineWidth","lineColor","lineBorderRadius","fullscreen","onClose","align","bordered","hover","responsive","striped","filter","res"],"sourceRoot":""}