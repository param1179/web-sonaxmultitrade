"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[304],{96066:function(e,r,n){n.d(r,{Z:function(){return t}});var t={};n.r(t),n.d(t,{R5:function(){return b},Cp:function(){return d},h3:function(){return w},pM:function(){return u},kC:function(){return f},r4:function(){return c},CE:function(){return m},zB:function(){return l},Nq:function(){return h},ii:function(){return p}});var a=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,i=/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/,s=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,o=n(62797),l=o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(a,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!")}),d=(o.Ry().shape({password:o.Z_().matches(a,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(a,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({oldPassword:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),password:o.Z_().max(15,"Max 15 symbol!").notOneOf([o.iH("oldPassword"),null],"Password should not same as old password!").required("Password is require field!"),cPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")})),u=o.Ry().shape({paymentRequest:o.Rx().required("Payment request require field!")}),c=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),gender:o.Z_().required("Last name is require field!"),dob:o.hT().required("Date of birth required"),nomineeFirstName:o.Z_().required("First name is require field!"),nomineeLastName:o.Z_().required("First name is require field!"),nomineeDob:o.hT().required("Date of birth required"),nomineeRelation:o.Z_().required("Relation is require field!"),mobile:o.Z_().matches(s,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),m=(o.Ry().shape({code:o.Z_().max(30,"Max value 20.").required("Coupon Name is require field!"),percent:o.Rx().typeError("You must specify a number").min(1,"Min value 1.").max(100,"Max value 100.").required("This field is required!"),endDate:o.hT().min(new Date,"end date can't be before current date")}),o.Ry().shape({from:o.hT().max(new Date,"From date can't be after current date"),to:o.hT().max(new Date,"End date can't be after current date")})),f=(o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),schoolName:o.Z_().required("Name is require field!")}),o.Ry().shape({rewardLevel:o.Z_().required("Reward Level is require field!"),rewardPrice:o.Rx().max(999999999).required("Reward Price is require field!"),onPairs:o.Rx().required("Pairs is require field!"),reward:o.Z_().required("Reward name is require field!")})),h=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),mobile:o.Z_().matches(s,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long")}),p=o.Ry().shape({uId:o.Z_().required("UID is require field!"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!")}),w=o.Ry().shape({password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),b=o.Ry().shape({title:o.Z_().max(15,"Max 15 symbol!").required("Title is require field!"),date:o.Z_().required("Date is require field!"),price:o.Rx().max(999999999).required("Price is require field!")})},16304:function(e,r,n){n.r(r);var t=n(74165),a=n(15861),i=(n(72791),n(78983)),s=n(82035),o=n(92506),l=n(96066),d=n(30337),u=n(80184);r.default=function(){var e=s.Nq.useGetRewards(),r=e.isLoading,n=e.data,c=e.refetch,m=(0,o.TA)({initialValues:{rewardLevel:"",rewardPrice:"",onPairs:"",reward:""},validationSchema:l.Z.kC,onSubmit:function(e){return j(e)}}),f=m.values,h=m.handleChange,p=m.submitForm,w=m.errors,b=m.isValid,x=m.dirty,v=m.resetForm,y=m.touched,q=m.handleBlur,P=s.Nq.useCreateAdminRewards(),C=s.Nq.useDeleteReward(),j=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.mutateAsync(r);case 2:200===(null===(n=e.sent)||void 0===n?void 0:n.status)&&(c(),v());case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,d._1)({title:"Delete this reward",message:"Are you sure to do this?",buttons:[{label:"Yes",onClick:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.mutateAsync(r);case 2:200===(null===(n=e.sent)||void 0===n?void 0:n.status)&&c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No"}]});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,u.jsx)(i.rb,{children:(0,u.jsx)(i.b7,{md:12,children:(0,u.jsxs)(i.xH,{children:[(0,u.jsx)(i.bn,{children:(0,u.jsx)("strong",{children:"Rewards"})}),(0,u.jsxs)(i.sl,{children:[(0,u.jsx)(i.lx,{children:(0,u.jsxs)(i.rb,{children:[(0,u.jsx)(i.b7,{md:3,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)(i.jO,{type:"text",id:"rewardLevelControlInput",placeholder:"Reward Level",value:f.rewardLevel,name:"rewardLevel",onChange:h,onBlur:q,error:w.rewardLevel}),y.rewardLevel&&w&&(0,u.jsx)("p",{className:"text-danger",children:w.rewardLevel})]})}),(0,u.jsx)(i.b7,{md:3,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)(i.jO,{type:"number",id:"onPairsControlInput",placeholder:"On Pairs",value:f.onPairs,name:"onPairs",onChange:h,onBlur:q,error:w.onPairs}),y.onPairs&&w&&(0,u.jsx)("p",{className:"text-danger",children:w.onPairs})]})}),(0,u.jsx)(i.b7,{md:3,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)(i.jO,{type:"text",id:"rewardControlInput",placeholder:"Reward Name",value:f.reward,name:"reward",onChange:h,onBlur:q,error:w.reward}),y.reward&&w&&(0,u.jsx)("p",{className:"text-danger",children:w.reward})]})}),(0,u.jsx)(i.b7,{md:3,children:(0,u.jsxs)("div",{className:"mb-3",children:[(0,u.jsx)(i.jO,{type:"text",id:"rewardPriceControlInput",placeholder:"Reward Price",value:f.rewardPrice,name:"rewardPrice",onChange:h,onBlur:q,error:w.rewardPrice}),y.rewardPrice&&w&&(0,u.jsx)("p",{className:"text-danger",children:w.rewardPrice})]})}),(0,u.jsx)(i.b7,{md:3,children:(0,u.jsx)("div",{className:"d-grid gap-2 mb-3",children:(0,u.jsx)(i.u5,{color:"primary",onClick:p,disabled:!(b&&x)||P.isLoading,children:"Save"})})})]})}),(0,u.jsx)(i.rb,{className:"table-row",children:(0,u.jsxs)(i.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,u.jsx)(i.V,{color:"light",children:(0,u.jsxs)(i.T6,{children:[(0,u.jsx)(i.is,{children:"S. No."}),(0,u.jsx)(i.is,{children:"Reward Level"}),(0,u.jsx)(i.is,{children:"On Pairs"}),(0,u.jsx)(i.is,{children:"Reward Name"}),(0,u.jsx)(i.is,{children:"Reward Price"}),(0,u.jsx)(i.is,{children:"Action"})]})}),(0,u.jsx)(i.NR,{children:!r&&(null===n||void 0===n?void 0:n.rewards.map((function(e,r){return(0,u.jsxs)(i.T6,{children:[(0,u.jsx)(i.NN,{children:r+1}),(0,u.jsx)(i.NN,{children:(0,u.jsx)("div",{children:e.rewardLevel})}),(0,u.jsx)(i.NN,{children:(0,u.jsx)("h5",{children:(0,u.jsx)(i.C_,{color:"success",children:e.onPairs})})}),(0,u.jsx)(i.NN,{children:e.reward}),(0,u.jsx)(i.NN,{children:(0,u.jsx)("div",{children:e.rewardPrice})}),(0,u.jsx)(i.NN,{children:(0,u.jsx)("h5",{onClick:function(){return g(e._id)},children:(0,u.jsx)(i.C_,{role:"button",color:"danger",children:"Delete"})})})]},e._id)})))})]})})]})]})})})}},30337:function(e,r,n){var t,a,i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},s=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();r._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"feGaussianBlur");r.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(r);var t=document.createElementNS(e,"svg");t.setAttribute("id","react-confirm-alert-firm-svg"),t.setAttribute("class","react-confirm-alert-svg"),t.appendChild(n),document.body.appendChild(t)}(),function(e){var r=document.getElementById(e.targetId||w);e.targetId&&!r&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");r||(document.body.children[0].classList.add("react-confirm-alert-blur"),(r=document.createElement("div")).id=w,document.body.appendChild(r)),(p=(0,u.createRoot)(r)).render(l.default.createElement(h,e))}(e)};var o=n(72791),l=c(o),d=c(n(52007)),u=n(1250);function c(e){return e&&e.__esModule?e:{default:e}}function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function f(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}var h=(a=t=function(e){function r(){var e,n,t;m(this,r);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t=f(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),t.handleClickButton=function(e){e.onClick&&e.onClick(),t.close()},t.handleClickOverlay=function(e){var r=t.props,n=r.closeOnClickOutside,a=r.onClickOutside,i=e.target===t.overlay;n&&i&&(a(),t.close()),e.stopPropagation()},t.close=function(){var e=t.props.afterClose;v(),x(t.props),b(e)},t.keyboard=function(e){var r=t.props,n=r.closeOnEscape,a=r.onKeypressEscape,i=r.onkeyPress,s=r.keyCodeForClose,o=e.keyCode,l=27===o;s.includes(o)&&t.close(),n&&l&&(a(e),t.close()),i&&i()},t.componentDidMount=function(){document.addEventListener("keydown",t.keyboard,!1)},t.componentWillUnmount=function(){document.removeEventListener("keydown",t.keyboard,!1),t.props.willUnmount()},t.renderCustomUI=function(){var e=t.props,r=e.title,n=e.message,a=e.buttons;return(0,e.customUI)({title:r,message:n,buttons:a,onClose:t.close})},f(t,n)}return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),s(r,[{key:"render",value:function(){var e=this,r=this.props,n=r.title,t=r.message,a=r.buttons,s=r.childrenElement,o=r.customUI,d=r.overlayClassName;return l.default.createElement("div",{className:"react-confirm-alert-overlay "+d,ref:function(r){return e.overlay=r},onClick:this.handleClickOverlay},l.default.createElement("div",{className:"react-confirm-alert"},o?this.renderCustomUI():l.default.createElement("div",{className:"react-confirm-alert-body"},n&&l.default.createElement("h1",null,n),t,s(),l.default.createElement("div",{className:"react-confirm-alert-button-group"},a.map((function(r,n){return l.default.createElement("button",i({key:n,className:r.className},r,{onClick:function(n){return e.handleClickButton(r)}}),r.label)}))))))}}]),r}(o.Component),t.propTypes={title:d.default.string,message:d.default.string,buttons:d.default.array.isRequired,childrenElement:d.default.func,customUI:d.default.func,closeOnClickOutside:d.default.bool,closeOnEscape:d.default.bool,keyCodeForClose:d.default.arrayOf(d.default.number),willUnmount:d.default.func,afterClose:d.default.func,onClickOutside:d.default.func,onKeypressEscape:d.default.func,onkeyPress:d.default.func,overlayClassName:d.default.string},t.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},a);var p=null,w="react-confirm-alert";function b(e){var r=document.getElementById("react-confirm-alert-firm-svg");r&&r.parentNode.removeChild(r),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function x(e){var r=document.getElementById(e.targetId||w);r&&p.unmount(r)}function v(){document.body.classList.remove("react-confirm-alert-body-element")}}}]);
//# sourceMappingURL=304.bd14efe8.chunk.js.map