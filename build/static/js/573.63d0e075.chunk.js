"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[573],{96066:function(e,r,s){s.d(r,{Z:function(){return n}});var n={};s.r(n),s.d(n,{Cp:function(){return c},h3:function(){return p},pM:function(){return d},kC:function(){return m},r4:function(){return u},zB:function(){return l},Nq:function(){return h},ii:function(){return f}});var t=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,a=/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/,i=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,o=s(62797),l=o.Ry().shape({email:o.Z_().matches(a,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(t,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!")}),c=(o.Ry().shape({password:o.Z_().matches(t,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({email:o.Z_().matches(a,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(t,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({oldPassword:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),password:o.Z_().max(15,"Max 15 symbol!").notOneOf([o.iH("oldPassword"),null],"Password should not same as old password!").required("Password is require field!"),cPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")})),d=o.Ry().shape({paymentRequest:o.Rx().required("Payment request require field!")}),u=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),gender:o.Z_().required("Last name is require field!"),dob:o.hT().required("Date of birth required"),nomineeFirstName:o.Z_().required("First name is require field!"),nomineeLastName:o.Z_().required("First name is require field!"),nomineeDob:o.hT().required("Date of birth required"),nomineeRelation:o.Z_().required("Relation is require field!"),mobile:o.Z_().matches(i,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),m=(o.Ry().shape({code:o.Z_().max(30,"Max value 20.").required("Coupon Name is require field!"),percent:o.Rx().typeError("You must specify a number").min(1,"Min value 1.").max(100,"Max value 100.").required("This field is required!"),endDate:o.hT().min(new Date,"end date can't be before current date")}),o.Ry().shape({email:o.Z_().matches(a,"Email is not correct!").required("Email is require field!"),schoolName:o.Z_().required("Name is require field!")}),o.Ry().shape({rewardLevel:o.Z_().required("Reward Level is require field!"),onPairs:o.Rx().required("Pairs is require field!"),reward:o.Z_().required("Reward name is require field!")})),h=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),mobile:o.Z_().matches(i,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long")}),f=o.Ry().shape({uId:o.Z_().required("UID is require field!"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!")}),p=o.Ry().shape({password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")})},53573:function(e,r,s){s.r(r),s.d(r,{default:function(){return j}});var n=s(74165),t=s(15861),a=s(29439),i=s(72791),o=s(78983),l=s(82035),c=s(57689),d=s(22469),u=s(30337),m=s(70610),h=s(92506),f=s(96066),p=s(9085),x=s(65163),v=s(31187),b=s(24846),y=s(80184);function w(e){var r,s,n=e.userId,t=l.Nq.useWallet(n),a=t.isLoading,i=t.data;return console.log(i),(0,y.jsxs)(o.xH,{className:"mt-2",children:[(0,y.jsx)(o.bn,{children:(0,y.jsx)("strong",{children:"Wallet and Points"})}),(0,y.jsx)(o.sl,{children:(0,y.jsx)(o.rb,{children:(0,y.jsx)(o.b7,{md:12,children:(0,y.jsxs)(o.rb,{children:[(0,y.jsxs)(o.b7,{md:4,children:[(0,y.jsx)(o.Sv,{className:"mb-3",icon:(0,y.jsx)(b.Z,{icon:x.X,height:36}),color:"success",inverse:!0,progress:{value:0},text:"Widget helper text",title:"Wallet Balance",value:"Rs. ".concat(!a&&(null===(r=i.user)||void 0===r?void 0:r.wallet))}),(0,y.jsx)(o.Sv,{className:"mb-3",icon:(0,y.jsx)(b.Z,{icon:v.H,height:36}),color:"success",inverse:!0,progress:{value:0},text:"Widget helper text",title:"Total Points",value:!a&&(null===(s=i.user)||void 0===s?void 0:s.points)})]}),(0,y.jsx)(o.b7,{md:8,children:(0,y.jsxs)(o.xH,{children:[(0,y.jsx)(o.bn,{children:(0,y.jsx)("strong",{children:"Transactions"})}),(0,y.jsx)(o.sl,{children:(0,y.jsx)(o.rb,{className:"table-row",children:a||0===(null===i||void 0===i?void 0:i.walletHistory.length)?(0,y.jsx)("div",{className:"p-3 text-center",children:"History not available"}):(0,y.jsxs)(o.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,y.jsx)(o.V,{color:"light",children:(0,y.jsxs)(o.T6,{children:[(0,y.jsx)(o.is,{children:"S. No."}),(0,y.jsx)(o.is,{children:"Payment"}),(0,y.jsx)(o.is,{children:"Payment By"}),(0,y.jsx)(o.is,{children:"Level By"}),(0,y.jsx)(o.is,{children:"Payment Type"})]})}),(0,y.jsx)(o.NR,{children:null===i||void 0===i?void 0:i.walletHistory.map((function(e,r){var s,n;return(0,y.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,y.jsx)(o.NN,{children:r+1}),(0,y.jsxs)(o.NN,{className:"withdrawal"!==e.transactionType?"bg-success":"bg-danger",children:[(0,y.jsxs)("div",{children:["Rs. ",e.payment]}),(0,y.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,y.jsx)("span",{})," ","".concat("withdrawal"!==e.transactionType?"Received on:":"Withdrawal"," ").concat(d.YM.formatRegister(e.createdAt)," ")]})]}),(0,y.jsx)(o.NN,{children:e.paymentBy?"".concat(null===(s=e.paymentBy)||void 0===s?void 0:s.firstName,"(").concat(null===(n=e.paymentBy)||void 0===n?void 0:n.uId,")"):"Admin"}),(0,y.jsx)(o.NN,{children:(0,y.jsx)("h5",{children:(0,y.jsx)(o.C_,{color:"success",children:e.levelBy})})}),(0,y.jsx)(o.NN,{children:"".concat("regularEmi"!==e.paymentType?"withdrawal"!==e.paymentType?"Joining":"Withdrawal":"Regular Emi")})]},r)}))})]})})})]})})]})})})})]})}var j=function(){var e=(0,c.TH)().state,r=e.id,s=e.name,x=e.uId,v=(0,i.useState)(0),b=(0,a.Z)(v,2),j=b[0],g=b[1],N=(0,i.useState)(0),q=(0,a.Z)(N,2),C=q[0],P=q[1],Z=(0,i.useState)(0),_=(0,a.Z)(Z,2),k=_[0],E=_[1],R=l.Nq.useIntallments(r),O=(R.isLoading,R.data),I=R.refetch,L=l.Nq.useGetRewards(),T=L.isLoading,M=L.data,A=l.Nq.useUpdatePayment();(0,i.useEffect)((function(){function e(){return e=(0,t.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("admin/userTabs/".concat(r,"?position=Left")).then((function(e){g(null===e||void 0===e?void 0:e.active)})).then(function(){var e=(0,t.Z)((0,n.Z)().mark((function e(s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("admin/userTabs/".concat(r,"?position=Right"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()).then((function(e){P(null===e||void 0===e?void 0:e.active)}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,i.useEffect)((function(){G()}),[C]);var B=(0,h.TA)({initialValues:{password:"",cpassword:""},validationSchema:f.Z.h3,onSubmit:function(e){return z(e)}}),H=B.values,S=B.handleChange,U=B.submitForm,F=B.errors,D=B.isValid,W=B.dirty,V=B.resetForm,$=B.touched,K=B.handleBlur,Y=l.Nq.useChangePasswordByAdmin(),z=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(s){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.mutateAsync({body:s,id:r});case 2:200===(null===(t=e.sent)||void 0===t?void 0:t.status)&&(p.Am.success("User's password changed"),V());case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),G=function(){var e=C<=j?C:j,r=Math.floor(2*e/2);E(r)},J=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=r.target.id,(0,u._1)({title:"Update this user",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){var e=(0,t.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.mutateAsync(s);case 2:200===(null===(r=e.sent)||void 0===r?void 0:r.status)&&I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No"}]});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,y.jsx)(o.rb,{children:(0,y.jsx)(o.b7,{md:12,children:(0,y.jsxs)(o.rb,{children:[(0,y.jsxs)(o.b7,{md:4,children:[(0,y.jsxs)(o.xH,{className:"mb-2",children:[(0,y.jsxs)(o.bn,{children:[(0,y.jsx)("strong",{children:"Rewards Achievement Chart"}),(0,y.jsxs)("div",{children:[(0,y.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Left Active: ",j]}),(0,y.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Right Active: ",C]}),(0,y.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Total Pairs: ",k&&k]})]})]}),(0,y.jsx)(o.sl,{children:(0,y.jsx)(o.KB,{children:(0,y.jsx)(o.rb,{children:(0,y.jsxs)("div",{className:"",children:[(0,y.jsx)("h5",{children:"Rewards Time Line"}),(0,y.jsx)("ul",{className:"timeline",children:!T&&M.rewards.map((function(e,r){return(0,y.jsxs)("li",{className:e.onPairs<=k?"achive":"",children:[(0,y.jsxs)("p",{className:e.onPairs<=k?"text-success float-right":"float-right",children:[e.rewardLevel," on ",e.onPairs," Pairs"]}),(0,y.jsxs)("p",{className:e.onPairs<=k?"text-success float-right":"float-right",children:["(",e.reward,")"]})]},r)}))})]})})})})]}),(0,y.jsxs)(o.xH,{className:"mb-2",children:[(0,y.jsx)(o.bn,{children:"Change Password"}),(0,y.jsx)(o.sl,{children:(0,y.jsx)(o.lx,{children:(0,y.jsxs)(o.rb,{children:[(0,y.jsx)(o.b7,{md:12,children:(0,y.jsxs)("div",{className:"mb-3",children:[(0,y.jsx)(o.jO,{type:"text",id:"passwordControlInput",placeholder:"New Password",value:H.password,name:"password",onChange:S,onBlur:K,error:F.password}),$.password&&F&&(0,y.jsx)("p",{className:"text-danger",children:F.password})]})}),(0,y.jsx)(o.b7,{md:12,children:(0,y.jsxs)("div",{className:"mb-3",children:[(0,y.jsx)(o.jO,{id:"cpasswordControlInput",placeholder:"Confirm Password",value:H.cpassword,name:"cpassword",onChange:S,onBlur:K,error:F.cpassword}),$.cpassword&&F&&(0,y.jsx)("p",{className:"text-danger",children:F.cpassword})]})}),(0,y.jsx)(o.b7,{md:12,children:(0,y.jsx)("div",{className:"d-grid gap-2 mb-3",children:(0,y.jsx)(o.u5,{color:"primary",onClick:U,disabled:!(D&&W)||Y.isLoading,children:"Save"})})})]})})})]})]}),(0,y.jsxs)(o.b7,{md:8,children:[(0,y.jsxs)(o.xH,{children:[(0,y.jsx)(o.bn,{children:(0,y.jsxs)("strong",{children:[s,"'s ","("+x+")"," Installments Chart"]})}),(0,y.jsx)(o.sl,{children:(0,y.jsx)(o.rb,{className:"table-row",children:(0,y.jsxs)(o.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,y.jsx)(o.V,{color:"light",children:(0,y.jsxs)(o.T6,{children:[(0,y.jsx)(o.is,{children:"S. No."}),(0,y.jsx)(o.is,{children:"Installments"}),(0,y.jsx)(o.is,{children:"Amount"}),(0,y.jsx)(o.is,{children:"Status"})]})}),(0,y.jsx)(o.NR,{children:null===O||void 0===O?void 0:O.data.map((function(e,r){return(0,y.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,y.jsx)(o.NN,{children:r+1}),(0,y.jsxs)(o.NN,{children:[(0,y.jsx)("div",{children:0===r?"Downpayment":"Payment"}),(0,y.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,y.jsx)("span",{children:!e.status&&" Unpaid |"})," ",e.status&&"Paid on: ".concat(d.YM.formatRegister(e.updatedAt)," ")]})]}),(0,y.jsxs)(o.NN,{children:["Rs. ",e.price]}),(0,y.jsx)(o.NN,{children:(0,y.jsx)("h5",{children:(0,y.jsx)(o.C_,{id:e._id,role:e.status?void 0:"button",color:e.status?"success":"danger",onClick:function(r){return e.status?"":J(r)},children:e.status?"Paid":"Pay"})})})]},r)}))})]})})})]}),(0,y.jsx)(w,{userId:r})]})]})})})}},31187:function(e,r,s){s.d(r,{H:function(){return n}});var n=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M68.983,382.642l171.35,98.928a32.082,32.082,0,0,0,32,0l171.352-98.929a32.093,32.093,0,0,0,16-27.713V157.071a32.092,32.092,0,0,0-16-27.713L272.334,30.429a32.086,32.086,0,0,0-32,0L68.983,129.358a32.09,32.09,0,0,0-16,27.713V354.929A32.09,32.09,0,0,0,68.983,382.642ZM272.333,67.38l155.351,89.691V334.449L272.333,246.642ZM256.282,274.327l157.155,88.828-157.1,90.7L99.179,363.125ZM84.983,157.071,240.333,67.38v179.2L84.983,334.39Z' class='ci-primary'/>"]},30337:function(e,r,s){var n,t,a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i=function(){function e(e,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,s,n){return s&&e(r.prototype,s),n&&e(r,n),r}}();r._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"feGaussianBlur");r.setAttribute("stdDeviation","0.3");var s=document.createElementNS(e,"filter");s.setAttribute("id","gaussian-blur"),s.appendChild(r);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(s),document.body.appendChild(n)}(),function(e){var r=document.getElementById(e.targetId||x);e.targetId&&!r&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");r||(document.body.children[0].classList.add("react-confirm-alert-blur"),(r=document.createElement("div")).id=x,document.body.appendChild(r)),(p=(0,d.createRoot)(r)).render(l.default.createElement(f,e))}(e)};var o=s(72791),l=u(o),c=u(s(52007)),d=s(1250);function u(e){return e&&e.__esModule?e:{default:e}}function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function h(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}var f=(t=n=function(e){function r(){var e,s,n;m(this,r);for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return s=n=h(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(a))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.handleClickOverlay=function(e){var r=n.props,s=r.closeOnClickOutside,t=r.onClickOutside,a=e.target===n.overlay;s&&a&&(t(),n.close()),e.stopPropagation()},n.close=function(){var e=n.props.afterClose;y(),b(n.props),v(e)},n.keyboard=function(e){var r=n.props,s=r.closeOnEscape,t=r.onKeypressEscape,a=r.onkeyPress,i=r.keyCodeForClose,o=e.keyCode,l=27===o;i.includes(o)&&n.close(),s&&l&&(t(e),n.close()),a&&a()},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboard,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboard,!1),n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,r=e.title,s=e.message,t=e.buttons;return(0,e.customUI)({title:r,message:s,buttons:t,onClose:n.close})},h(n,s)}return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),i(r,[{key:"render",value:function(){var e=this,r=this.props,s=r.title,n=r.message,t=r.buttons,i=r.childrenElement,o=r.customUI,c=r.overlayClassName;return l.default.createElement("div",{className:"react-confirm-alert-overlay "+c,ref:function(r){return e.overlay=r},onClick:this.handleClickOverlay},l.default.createElement("div",{className:"react-confirm-alert"},o?this.renderCustomUI():l.default.createElement("div",{className:"react-confirm-alert-body"},s&&l.default.createElement("h1",null,s),n,i(),l.default.createElement("div",{className:"react-confirm-alert-button-group"},t.map((function(r,s){return l.default.createElement("button",a({key:s,className:r.className},r,{onClick:function(s){return e.handleClickButton(r)}}),r.label)}))))))}}]),r}(o.Component),n.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,keyCodeForClose:c.default.arrayOf(c.default.number),willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func,onkeyPress:c.default.func,overlayClassName:c.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},t);var p=null,x="react-confirm-alert";function v(e){var r=document.getElementById("react-confirm-alert-firm-svg");r&&r.parentNode.removeChild(r),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function b(e){var r=document.getElementById(e.targetId||x);r&&p.unmount(r)}function y(){document.body.classList.remove("react-confirm-alert-body-element")}}}]);
//# sourceMappingURL=573.63d0e075.chunk.js.map