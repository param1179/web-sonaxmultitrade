"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[4],{29004:function(i,l,e){e.r(l),e.d(l,{default:function(){return T}});var d=e(1413),n=e(29439),s=e(30168),o=e(72791),t=e(82035),r=e(58393),c=e(90082),a=e(51692),u=e(29352),v=e(57689),h=e(78983),x=e(80184);var m=function i(l){var e,d,n,s=l.count,c=l.item,a=l.num,m=l.StyledNode,j=l.pId,p=(0,v.s0)(),f=c.childId;c.parentId,(0,o.useEffect)((function(){s+=1}),[]);var g,N=t.g8.useGetTeams(f._id),b=N.isloading,I=N.data,C=200===(null===I||void 0===I?void 0:I.status)&&(null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.parentId),T=200===(null===I||void 0===I?void 0:I.status)?null===I||void 0===I||null===(d=I.data)||void 0===d?void 0:d.childs:[],S=T&&0!==T.length;return S&&"Right"===(null===I||void 0===I||null===(n=I.data)||void 0===n?void 0:n.childs[0].placement)&&(T=null===I||void 0===I||null===(g=I.data)||void 0===g?void 0:g.childs.reverse()),(0,x.jsx)(r.O,{label:(0,x.jsx)(m,{children:(0,x.jsxs)("div",{role:"button",onClick:function(){return f.uId?p("/users",{state:{userId:f._id}}):p("/add",{state:{pId:j,placement:0===a?"Left":"Right"}})},children:[(0,x.jsx)(h.DW,{src:u,height:50,alt:"Logo"}),(0,x.jsxs)("div",{className:f.uId?"border border-success tree-content ".concat(f.isCompleted?"app-bg-active":"app-bg-inactive"):"border border-success tree-content app-bg-2",children:[(0,x.jsx)("div",{children:f.uId?f.uId:""}),(0,x.jsx)("div",{children:f.firstName})]})]})}),children:S&&s<6?T.map((function(l,e){return b?(0,x.jsx)(x.Fragment,{children:"OK"}):(0,x.jsx)(i,{item:l,num:e,StyledNode:m,pId:C._id},e)})):null},a)},j=e(24846),p=e(22655);var f=e(93433),g=e(22469),N=[];var b=function i(l){var e,d,n=l.count,s=l.item,r=l.num,c=l.StyledNode,a=s.childId;N=[].concat((0,f.Z)(N),[null!==(null===a||void 0===a?void 0:a._id)&&a]),(0,o.useEffect)((function(){n+=1}),[]);var u=t.g8.useGetTeams(null===a||void 0===a?void 0:a._id),v=u.isloading,m=u.data,j=(200===(null===m||void 0===m?void 0:m.status)&&(null===m||void 0===m||null===(e=m.data)||void 0===e||e.parentId),200===(null===m||void 0===m?void 0:m.status)?null===m||void 0===m||null===(d=m.data)||void 0===d?void 0:d.childs:[]),p=j&&0!==j.length;return(0,x.jsxs)(x.Fragment,{children:[null!==a._id&&(0,x.jsxs)(h.T6,{"v-for":"item in tableItems",children:[(0,x.jsx)(h.NN,{children:"#"}),(0,x.jsxs)(h.NN,{children:[(0,x.jsx)("div",{children:(null===a||void 0===a?void 0:a.firstName)+" "+(null===a||void 0===a?void 0:a.lastName)}),(0,x.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,x.jsx)("span",{children:"New |"})," Registered on: ",g.YM.formatRegister(null===a||void 0===a?void 0:a.createdAt)]})]}),(0,x.jsx)(h.NN,{children:null===a||void 0===a?void 0:a.uId}),(0,x.jsx)(h.NN,{children:(0,x.jsx)("h5",{children:(0,x.jsx)(h.C_,{id:null===a||void 0===a?void 0:a._id,color:null!==a&&void 0!==a&&a.isCompleted?"success":"danger",children:null!==a&&void 0!==a&&a.isCompleted?"Active":"Inactive"})})})]},r),p?j.map((function(l,e){var d;return v&&null===(null===l||void 0===l||null===(d=l.childId)||void 0===d?void 0:d._id)?(0,x.jsx)(x.Fragment,{children:"OK"}):(0,x.jsx)(i,{count:n++,item:l,num:e,StyledNode:c},e)})):null]})};e(70610);var I,C=c.ZP.div(I||(I=(0,s.Z)(["\n  padding: 5px;\n  display: inline-block;\n"])));var T=function(){var i,l,e,s,c,f,N,I,T,S,_,k,R,Z,y=(0,v.TH)().state,L=void 0===y?null:y,D=(0,v.TH)(),A=(0,v.s0)(),w=(0,a.getProfileData)(),G=(0,o.useState)(1),E=(0,n.Z)(G,2),F=E[0],O=E[1],H=(0,o.useState)({total:0,active:0,inActive:0}),M=(0,n.Z)(H,2),P=(M[0],M[1],(0,o.useState)({visible:!1,position:"Left"})),W=(0,n.Z)(P,2),K=W[0],U=W[1],V=(0,o.useState)({visible:!1,position:"Direct"}),Y=(0,n.Z)(V,2),z=Y[0],B=Y[1];(0,o.useEffect)((function(){A(D.pathname,{})}),[F]);var q,J=L&&null!==L&&void 0!==L&&L.userId?null===L||void 0===L?void 0:L.userId:w._id,Q=t.g8.useGetTeams(J).data,X=t.g8.useGetDirectTeams(),$=X.isLoading,ii=X.data,li=t.g8.useGetTeamList(K.position,J),ei=li.isLoading,di=li.data,ni=li.refetch,si=null===Q||void 0===Q||null===(i=Q.data)||void 0===i?void 0:i.childs,oi=null===Q||void 0===Q||null===(l=Q.data)||void 0===l?void 0:l.parentId;return"Right"===(null===Q||void 0===Q||null===(e=Q.data)||void 0===e?void 0:e.childs[0].placement)&&(si=null===Q||void 0===Q||null===(q=Q.data)||void 0===q?void 0:q.childs.reverse()),(0,o.useEffect)((function(){ni()}),[K.position]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(h.rb,{children:(0,x.jsx)(h.b7,{xs:12,children:(0,x.jsxs)(h.xH,{className:"mb-4",children:[(0,x.jsxs)(h.bn,{children:[(0,x.jsx)("strong",{children:"All Team's Tree"}),(0,x.jsxs)("div",{children:[(0,x.jsxs)(h.u5,{color:"primary mx-2",className:"float-end",onClick:function(){return B({visible:!z.visible,position:"Direct"})},children:["Direct: ",null===ii||void 0===ii?void 0:ii.direct.length]}),(0,x.jsx)(h.u5,{color:"primary mx-2",onClick:function(){return U({visible:!K.visible,position:"Left"})},className:"",children:"Left"}),(0,x.jsx)(h.u5,{color:"primary mx-2",onClick:function(){return U({visible:!K.visible,position:"Right"})},className:"",children:"Right"})]})]}),(0,x.jsxs)(h.sl,{className:"divScroll",children:[L&&(null===L||void 0===L?void 0:L.userId)&&(0,x.jsxs)(h.u5,{size:"sm",onClick:function(){return O(Math.random())},children:["Go to top",(0,x.jsx)(j.Z,{icon:p.T})]}),(0,x.jsx)(r.m,{lineWidth:"2px",lineColor:"green",lineBorderRadius:"10px",label:(0,x.jsxs)(C,{children:[(0,x.jsx)(h.DW,{src:u,height:50,alt:"Logo"}),(0,x.jsxs)("div",{className:"border border-success tree-content ".concat(L?null!==Q&&void 0!==Q&&null!==(f=Q.data)&&void 0!==f&&null!==(N=f.parentId)&&void 0!==N&&N.isCompleted?"app-bg-active":"app-bg-inactive":null!==Q&&void 0!==Q&&null!==(s=Q.data)&&void 0!==s&&null!==(c=s.parentId)&&void 0!==c&&c.isCompleted?"app-bg-active":"app-bg-top"),children:[(0,x.jsx)("div",{children:null!==Q&&void 0!==Q&&null!==(I=Q.data)&&void 0!==I&&null!==(T=I.parentId)&&void 0!==T&&T.uId?null===Q||void 0===Q||null===(S=Q.data)||void 0===S||null===(_=S.parentId)||void 0===_?void 0:_.uId:""}),(0,x.jsx)("div",{children:null===Q||void 0===Q||null===(k=Q.data)||void 0===k||null===(R=k.parentId)||void 0===R?void 0:R.firstName})]})]}),children:si&&(null===(Z=si)||void 0===Z?void 0:Z.map((function(i,l){return(0,x.jsx)(m,{count:0,item:i,num:l,StyledNode:C,pId:null===oi||void 0===oi?void 0:oi._id},l)})))})]})]})})}),(0,x.jsxs)(h.Tk,{fullscreen:"lg",visible:K.visible,onClose:function(){U((0,d.Z)((0,d.Z)({},K),{},{visible:!1}))},children:[(0,x.jsx)(h.p0,{children:(0,x.jsxs)(h.fl,{children:[K.position," Side Team List"]})}),(0,x.jsx)(h.sD,{className:"overflow-auto",children:(0,x.jsxs)(h.rb,{children:[!ei&&(0,x.jsxs)(h.PO,{children:[(0,x.jsx)("h5",{children:(0,x.jsx)(h.C_,{color:"primary",children:"Total: "+(null===di||void 0===di?void 0:di.total)})}),(0,x.jsx)("h5",{children:(0,x.jsx)(h.C_,{color:"success",children:"Active: "+(null===di||void 0===di?void 0:di.active)})}),(0,x.jsx)("h5",{children:(0,x.jsx)(h.C_,{color:"danger",children:"Inactive: "+(null===di||void 0===di?void 0:di.inActive)})})]}),(0,x.jsxs)(h.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,x.jsx)(h.V,{color:"light",children:(0,x.jsxs)(h.T6,{children:[(0,x.jsx)(h.is,{children:"S. No."}),(0,x.jsx)(h.is,{children:"Name"}),(0,x.jsx)(h.is,{children:"User Id"}),(0,x.jsx)(h.is,{children:"Status"})]})}),(0,x.jsx)(h.NR,{children:si&&(0,x.jsx)(b,{count:0,item:si.filter((function(i){return i.placement===K.position}))[0],num:0,StyledNode:C,pId:null===Q||void 0===Q?void 0:Q.data.parentId},0)})]})]})})]}),(0,x.jsxs)(h.Tk,{fullscreen:"lg",visible:z.visible,onClose:function(){U((0,d.Z)((0,d.Z)({},z),{},{visible:!1}))},children:[(0,x.jsx)(h.p0,{children:(0,x.jsxs)(h.fl,{children:[z.position," Team List"]})}),(0,x.jsx)(h.sD,{className:"overflow-auto",children:(0,x.jsx)(h.rb,{children:(0,x.jsxs)(h.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,x.jsx)(h.V,{color:"light",children:(0,x.jsxs)(h.T6,{children:[(0,x.jsx)(h.is,{children:"S. No."}),(0,x.jsx)(h.is,{children:"Name"}),(0,x.jsx)(h.is,{children:"User Id"}),(0,x.jsx)(h.is,{children:"Status"})]})}),(0,x.jsx)(h.NR,{children:!$&&(null===ii||void 0===ii?void 0:ii.direct.map((function(i,l){var e,d,n,s,o,t,r;return(0,x.jsxs)(h.T6,{"v-for":"item in tableItems",children:[(0,x.jsx)(h.NN,{children:"#"+(l+1)}),(0,x.jsxs)(h.NN,{children:[(0,x.jsx)("div",{children:(null===(e=i.childs[0].childId)||void 0===e?void 0:e.firstName)+" "+(null===(d=i.childs[0].childId)||void 0===d?void 0:d.lastName)}),(0,x.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,x.jsx)("span",{children:"New |"})," Registered on:"," ",g.YM.formatRegister(null===(n=i.childs[0].childId)||void 0===n?void 0:n.createdAt)]})]}),(0,x.jsx)(h.NN,{children:null===(s=i.childs[0].childId)||void 0===s?void 0:s.uId}),(0,x.jsx)(h.NN,{children:(0,x.jsx)("h5",{children:(0,x.jsx)(h.C_,{id:null===(o=i.childs[0].childId)||void 0===o?void 0:o._id,color:null!==(t=i.childs[0].childId)&&void 0!==t&&t.isCompleted?"success":"danger",children:null!==(r=i.childs[0].childId)&&void 0!==r&&r.isCompleted?"Active":"Inactive"})})})]},l)})))})]})})})]})]})}}}]);
//# sourceMappingURL=4.f84dae26.chunk.js.map