"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[573],{96066:function(e,r,s){s.d(r,{Z:function(){return t}});var t={};s.r(t),s.d(t,{Cp:function(){return c},h3:function(){return p},pM:function(){return d},kC:function(){return m},r4:function(){return u},zB:function(){return l},Nq:function(){return h},ii:function(){return f}});var n=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{6,}$/,i=/^((?!\.)[\w\-_.]*[^.])(@\w+)(\.\w+(\.\w+)?[^.\W])$/,a=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,o=s(62797),l=o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(n,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!")}),c=(o.Ry().shape({password:o.Z_().matches(n,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),password:o.Z_().matches(n,"Password is not correct!").max(15,"Max 15 symbol!").required("Password is require field!"),confirmPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),o.Ry().shape({oldPassword:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),password:o.Z_().max(15,"Max 15 symbol!").notOneOf([o.iH("oldPassword"),null],"Password should not same as old password!").required("Password is require field!"),cPassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")})),d=o.Ry().shape({paymentRequest:o.Rx().required("Payment request require field!")}),u=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),gender:o.Z_().required("Last name is require field!"),dob:o.hT().required("Date of birth required"),nomineeFirstName:o.Z_().required("First name is require field!"),nomineeLastName:o.Z_().required("First name is require field!"),nomineeDob:o.hT().required("Date of birth required"),nomineeRelation:o.Z_().required("Relation is require field!"),mobile:o.Z_().matches(a,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")}),m=(o.Ry().shape({code:o.Z_().max(30,"Max value 20.").required("Coupon Name is require field!"),percent:o.Rx().typeError("You must specify a number").min(1,"Min value 1.").max(100,"Max value 100.").required("This field is required!"),endDate:o.hT().min(new Date,"end date can't be before current date")}),o.Ry().shape({email:o.Z_().matches(i,"Email is not correct!").required("Email is require field!"),schoolName:o.Z_().required("Name is require field!")}),o.Ry().shape({rewardLevel:o.Z_().required("Reward Level is require field!"),onPairs:o.Rx().required("Pairs is require field!"),reward:o.Z_().required("Reward name is require field!")})),h=o.Ry().shape({firstName:o.Z_().required("First name is require field!"),lastName:o.Z_().required("Last name is require field!"),mobile:o.Z_().matches(a,"Phone number is not valid").required("Mobile is require field!").min(10,"Phone number too short").max(10,"Phone number too long")}),f=o.Ry().shape({uId:o.Z_().required("UID is require field!"),password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!")}),p=o.Ry().shape({password:o.Z_().max(15,"Max 15 symbol!").required("Password is require field!"),cpassword:o.Z_().oneOf([o.iH("password"),null],"Passwords must match!").required("Passwords must match!")})},53573:function(e,r,s){s.r(r),s.d(r,{default:function(){return g}});var t=s(74165),n=s(15861),i=s(29439),a=s(72791),o=s(78983),l=s(82035),c=s(57689),d=s(22469),u=s(30337),m=s(70610),h=s(92506),f=s(96066),p=s(9085),x=s(79736),v=s(65163),y=s(31187),b=s(24846),w=s(80184);function j(e){var r,s,t,n=e.userId,i=l.Nq.useWallet(n),a=i.isLoading,c=i.data;return console.log(c),(0,w.jsxs)(o.xH,{className:"mt-2",children:[(0,w.jsx)(o.bn,{children:(0,w.jsx)("strong",{children:"Wallet and Points"})}),(0,w.jsx)(o.sl,{children:(0,w.jsx)(o.rb,{children:(0,w.jsx)(o.b7,{md:12,children:(0,w.jsxs)(o.rb,{children:[(0,w.jsxs)(o.b7,{md:4,children:[(0,w.jsx)(o.Sv,{className:"mb-3",icon:(0,w.jsx)(b.Z,{icon:x.S,height:36}),color:"info",inverse:!0,progress:{value:100},text:"Widget helper text",title:"Withdrawal Payments",value:"Rs. ".concat(!a&&(null===(r=c.user)||void 0===r?void 0:r.withdraw))}),(0,w.jsx)(o.Sv,{className:"mb-3",icon:(0,w.jsx)(b.Z,{icon:v.X,height:36}),color:"success",inverse:!0,progress:{value:0},text:"Widget helper text",title:"Wallet Balance",value:"Rs. ".concat(!a&&(null===(s=c.user)||void 0===s?void 0:s.wallet))}),(0,w.jsx)(o.Sv,{className:"mb-3",icon:(0,w.jsx)(b.Z,{icon:y.H,height:36}),color:"success",inverse:!0,progress:{value:0},text:"Widget helper text",title:"Total Points",value:!a&&(null===(t=c.user)||void 0===t?void 0:t.points)})]}),(0,w.jsx)(o.b7,{md:8,children:(0,w.jsxs)(o.xH,{children:[(0,w.jsx)(o.bn,{children:(0,w.jsx)("strong",{children:"Transactions"})}),(0,w.jsx)(o.sl,{children:(0,w.jsx)(o.rb,{className:"table-row",children:a||0===(null===c||void 0===c?void 0:c.walletHistory.length)?(0,w.jsx)("div",{className:"p-3 text-center",children:"History not available"}):(0,w.jsxs)(o.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,w.jsx)(o.V,{color:"light",children:(0,w.jsxs)(o.T6,{children:[(0,w.jsx)(o.is,{children:"S. No."}),(0,w.jsx)(o.is,{children:"Payment"}),(0,w.jsx)(o.is,{children:"Payment By"}),(0,w.jsx)(o.is,{children:"Level By"}),(0,w.jsx)(o.is,{children:"Payment Type"})]})}),(0,w.jsx)(o.NR,{children:null===c||void 0===c?void 0:c.walletHistory.map((function(e,r){var s,t;return(0,w.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,w.jsx)(o.NN,{children:r+1}),(0,w.jsxs)(o.NN,{className:"withdrawal"!==e.transactionType?"bg-success":"bg-danger",children:[(0,w.jsxs)("div",{children:["Rs. ",e.payment]}),(0,w.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,w.jsx)("span",{})," ","".concat("withdrawal"!==e.transactionType?"Received on:":"Withdrawal"," ").concat(d.YM.formatRegister(e.createdAt)," ")]})]}),(0,w.jsx)(o.NN,{children:e.paymentBy?"".concat(null===(s=e.paymentBy)||void 0===s?void 0:s.firstName,"(").concat(null===(t=e.paymentBy)||void 0===t?void 0:t.uId,")"):"Admin"}),(0,w.jsx)(o.NN,{children:(0,w.jsx)("h5",{children:(0,w.jsx)(o.C_,{color:"success",children:e.levelBy})})}),(0,w.jsx)(o.NN,{children:"".concat("regularEmi"!==e.paymentType?"withdrawal"!==e.paymentType?"Joining":"Withdrawal":"Regular Emi")})]},r)}))})]})})})]})})]})})})})]})}var g=function(){var e=(0,c.TH)().state,r=e.id,s=e.name,x=e.uId,v=(0,a.useState)(0),y=(0,i.Z)(v,2),b=y[0],g=y[1],N=(0,a.useState)(0),q=(0,i.Z)(N,2),C=q[0],P=q[1],Z=(0,a.useState)(0),_=(0,i.Z)(Z,2),k=_[0],E=_[1],R=l.Nq.useIntallments(r),O=(R.isLoading,R.data),L=R.refetch,I=l.Nq.useGetRewards(),M=I.isLoading,T=I.data,A=l.Nq.useUpdatePayment();(0,a.useEffect)((function(){function e(){return e=(0,n.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("admin/userTabs/".concat(r,"?position=Left")).then((function(e){g(null===e||void 0===e?void 0:e.active)})).then(function(){var e=(0,n.Z)((0,t.Z)().mark((function e(s){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("admin/userTabs/".concat(r,"?position=Right"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()).then((function(e){P(null===e||void 0===e?void 0:e.active)}));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){G()}),[C]);var B=(0,h.TA)({initialValues:{password:"",cpassword:""},validationSchema:f.Z.h3,onSubmit:function(e){return z(e)}}),S=B.values,H=B.handleChange,U=B.submitForm,W=B.errors,F=B.isValid,D=B.dirty,V=B.resetForm,$=B.touched,K=B.handleBlur,Y=l.Nq.useChangePasswordByAdmin(),z=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(s){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.mutateAsync({body:s,id:r});case 2:200===(null===(n=e.sent)||void 0===n?void 0:n.status)&&(p.Am.success("User's password changed"),V());case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),G=function(){var e=C<=b?C:b,r=Math.floor(2*e/2);E(r)},J=function(){var e=(0,n.Z)((0,t.Z)().mark((function e(r){var s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=r.target.id,(0,u._1)({title:"Update this user",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){var e=(0,n.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.mutateAsync(s);case 2:200===(null===(r=e.sent)||void 0===r?void 0:r.status)&&L();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No"}]});case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,w.jsx)(o.rb,{children:(0,w.jsx)(o.b7,{md:12,children:(0,w.jsxs)(o.rb,{children:[(0,w.jsxs)(o.b7,{md:4,children:[(0,w.jsxs)(o.xH,{className:"mb-2",children:[(0,w.jsxs)(o.bn,{children:[(0,w.jsx)("strong",{children:"Rewards Achievement Chart"}),(0,w.jsxs)("div",{children:[(0,w.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Left Active: ",b]}),(0,w.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Right Active: ",C]}),(0,w.jsxs)(o.C_,{color:"success",className:"mx-2",children:["Total Pairs: ",k&&k]})]})]}),(0,w.jsx)(o.sl,{children:(0,w.jsx)(o.KB,{children:(0,w.jsx)(o.rb,{children:(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("h5",{children:"Rewards Time Line"}),(0,w.jsx)("ul",{className:"timeline",children:!M&&T.rewards.map((function(e,r){return(0,w.jsxs)("li",{className:e.onPairs<=k?"achive":"",children:[(0,w.jsxs)("p",{className:e.onPairs<=k?"text-success float-right":"float-right",children:[e.rewardLevel," on ",e.onPairs," Pairs"]}),(0,w.jsxs)("p",{className:e.onPairs<=k?"text-success float-right":"float-right",children:["(",e.reward,")"]})]},r)}))})]})})})})]}),(0,w.jsxs)(o.xH,{className:"mb-2",children:[(0,w.jsx)(o.bn,{children:"Change Password"}),(0,w.jsx)(o.sl,{children:(0,w.jsx)(o.lx,{children:(0,w.jsxs)(o.rb,{children:[(0,w.jsx)(o.b7,{md:12,children:(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)(o.jO,{type:"text",id:"passwordControlInput",placeholder:"New Password",value:S.password,name:"password",onChange:H,onBlur:K,error:W.password}),$.password&&W&&(0,w.jsx)("p",{className:"text-danger",children:W.password})]})}),(0,w.jsx)(o.b7,{md:12,children:(0,w.jsxs)("div",{className:"mb-3",children:[(0,w.jsx)(o.jO,{id:"cpasswordControlInput",placeholder:"Confirm Password",value:S.cpassword,name:"cpassword",onChange:H,onBlur:K,error:W.cpassword}),$.cpassword&&W&&(0,w.jsx)("p",{className:"text-danger",children:W.cpassword})]})}),(0,w.jsx)(o.b7,{md:12,children:(0,w.jsx)("div",{className:"d-grid gap-2 mb-3",children:(0,w.jsx)(o.u5,{color:"primary",onClick:U,disabled:!(F&&D)||Y.isLoading,children:"Save"})})})]})})})]})]}),(0,w.jsxs)(o.b7,{md:8,children:[(0,w.jsxs)(o.xH,{children:[(0,w.jsx)(o.bn,{children:(0,w.jsxs)("strong",{children:[s,"'s ","("+x+")"," Installments Chart"]})}),(0,w.jsx)(o.sl,{children:(0,w.jsx)(o.rb,{className:"table-row",children:(0,w.jsxs)(o.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,w.jsx)(o.V,{color:"light",children:(0,w.jsxs)(o.T6,{children:[(0,w.jsx)(o.is,{children:"S. No."}),(0,w.jsx)(o.is,{children:"Installments"}),(0,w.jsx)(o.is,{children:"Amount"}),(0,w.jsx)(o.is,{children:"Status"})]})}),(0,w.jsx)(o.NR,{children:null===O||void 0===O?void 0:O.data.map((function(e,r){return(0,w.jsxs)(o.T6,{"v-for":"item in tableItems",children:[(0,w.jsx)(o.NN,{children:r+1}),(0,w.jsxs)(o.NN,{children:[(0,w.jsx)("div",{children:0===r?"Downpayment":"Payment"}),(0,w.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,w.jsx)("span",{children:!e.status&&" Unpaid |"})," ",e.status&&"Paid on: ".concat(d.YM.formatRegister(e.updatedAt)," ")]})]}),(0,w.jsxs)(o.NN,{children:["Rs. ",e.price]}),(0,w.jsx)(o.NN,{children:(0,w.jsx)("h5",{children:(0,w.jsx)(o.C_,{id:e._id,role:e.status?void 0:"button",color:e.status?"success":"danger",onClick:function(r){return e.status?"":J(r)},children:e.status?"Paid":"Pay"})})})]},r)}))})]})})})]}),(0,w.jsx)(j,{userId:r})]})]})})})}},31187:function(e,r,s){s.d(r,{H:function(){return t}});var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M68.983,382.642l171.35,98.928a32.082,32.082,0,0,0,32,0l171.352-98.929a32.093,32.093,0,0,0,16-27.713V157.071a32.092,32.092,0,0,0-16-27.713L272.334,30.429a32.086,32.086,0,0,0-32,0L68.983,129.358a32.09,32.09,0,0,0-16,27.713V354.929A32.09,32.09,0,0,0,68.983,382.642ZM272.333,67.38l155.351,89.691V334.449L272.333,246.642ZM256.282,274.327l157.155,88.828-157.1,90.7L99.179,363.125ZM84.983,157.071,240.333,67.38v179.2L84.983,334.39Z' class='ci-primary'/>"]},79736:function(e,r,s){s.d(r,{S:function(){return t}});var t=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M247.759,14.358,16,125.946V184H496V125.638ZM464,152H48v-5.946L248.241,49.642,464,146.362Z' class='ci-primary'/><rect width='416' height='32' x='48' y='408' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='480' height='32' x='16' y='464' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='160' x='56' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='160' x='424' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='160' x='328' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='160' x='152' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='160' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>"]},30337:function(e,r,s){var t,n,i=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&(e[t]=s[t])}return e},a=function(){function e(e,r){for(var s=0;s<r.length;s++){var t=r[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,s,t){return s&&e(r.prototype,s),t&&e(r,t),r}}();r._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"feGaussianBlur");r.setAttribute("stdDeviation","0.3");var s=document.createElementNS(e,"filter");s.setAttribute("id","gaussian-blur"),s.appendChild(r);var t=document.createElementNS(e,"svg");t.setAttribute("id","react-confirm-alert-firm-svg"),t.setAttribute("class","react-confirm-alert-svg"),t.appendChild(s),document.body.appendChild(t)}(),function(e){var r=document.getElementById(e.targetId||x);e.targetId&&!r&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");r||(document.body.children[0].classList.add("react-confirm-alert-blur"),(r=document.createElement("div")).id=x,document.body.appendChild(r)),(p=(0,d.createRoot)(r)).render(l.default.createElement(f,e))}(e)};var o=s(72791),l=u(o),c=u(s(52007)),d=s(1250);function u(e){return e&&e.__esModule?e:{default:e}}function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function h(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!==typeof r&&"function"!==typeof r?e:r}var f=(n=t=function(e){function r(){var e,s,t;m(this,r);for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return s=t=h(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),t.handleClickButton=function(e){e.onClick&&e.onClick(),t.close()},t.handleClickOverlay=function(e){var r=t.props,s=r.closeOnClickOutside,n=r.onClickOutside,i=e.target===t.overlay;s&&i&&(n(),t.close()),e.stopPropagation()},t.close=function(){var e=t.props.afterClose;b(),y(t.props),v(e)},t.keyboard=function(e){var r=t.props,s=r.closeOnEscape,n=r.onKeypressEscape,i=r.onkeyPress,a=r.keyCodeForClose,o=e.keyCode,l=27===o;a.includes(o)&&t.close(),s&&l&&(n(e),t.close()),i&&i()},t.componentDidMount=function(){document.addEventListener("keydown",t.keyboard,!1)},t.componentWillUnmount=function(){document.removeEventListener("keydown",t.keyboard,!1),t.props.willUnmount()},t.renderCustomUI=function(){var e=t.props,r=e.title,s=e.message,n=e.buttons;return(0,e.customUI)({title:r,message:s,buttons:n,onClose:t.close})},h(t,s)}return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(r,e),a(r,[{key:"render",value:function(){var e=this,r=this.props,s=r.title,t=r.message,n=r.buttons,a=r.childrenElement,o=r.customUI,c=r.overlayClassName;return l.default.createElement("div",{className:"react-confirm-alert-overlay "+c,ref:function(r){return e.overlay=r},onClick:this.handleClickOverlay},l.default.createElement("div",{className:"react-confirm-alert"},o?this.renderCustomUI():l.default.createElement("div",{className:"react-confirm-alert-body"},s&&l.default.createElement("h1",null,s),t,a(),l.default.createElement("div",{className:"react-confirm-alert-button-group"},n.map((function(r,s){return l.default.createElement("button",i({key:s,className:r.className},r,{onClick:function(s){return e.handleClickButton(r)}}),r.label)}))))))}}]),r}(o.Component),t.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,keyCodeForClose:c.default.arrayOf(c.default.number),willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func,onkeyPress:c.default.func,overlayClassName:c.default.string},t.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},n);var p=null,x="react-confirm-alert";function v(e){var r=document.getElementById("react-confirm-alert-firm-svg");r&&r.parentNode.removeChild(r),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function y(e){var r=document.getElementById(e.targetId||x);r&&p.unmount(r)}function b(){document.body.classList.remove("react-confirm-alert-body-element")}}}]);
//# sourceMappingURL=573.cef709ac.chunk.js.map