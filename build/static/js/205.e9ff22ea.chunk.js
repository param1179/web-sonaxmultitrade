"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[205],{60955:function(e,s,n){n.r(s);var r=n(74165),t=n(15861),i=n(29439),l=n(72791),a=n(91933),c=n(82035),d=(n(3637),n(78983)),o=n(57689),u=n(30337),h=n(22469),m=n(85929),x=(n(87691),n(80184));s.default=function(){var e=(0,o.s0)(),s=((0,a.useQueryClient)(),(0,l.useState)(10)),n=(0,i.Z)(s,2),v=n[0],p=(n[1],(0,l.useState)(1)),j=(0,i.Z)(p,2),f=(j[0],j[1]),N=(0,l.useState)(1),b=(0,i.Z)(N,2),g=b[0],C=b[1],Z=(0,l.useState)(""),y=(0,i.Z)(Z,2),k=y[0],w=y[1],S=c.Nq.useGetUsers(v,g,k),U=S.isLoading,A=S.data,I=S.refetch,_=c.Nq.useGetAllUsers().data,q=null===A||void 0===A?void 0:A.totalUsers,B=null===A||void 0===A?void 0:A.users,R=c.Nq.useUpdateUser(),Y=c.Nq.useUpdateSponserUser(),L=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(s){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=s.target.id,(0,u._1)({title:"Update this user",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){var s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.mutateAsync(n);case 2:200===(null===(s=e.sent)||void 0===s?void 0:s.status)&&I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No"}]});case 2:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),M=function(){var e=(0,t.Z)((0,r.Z)().mark((function e(s,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(s,"===",n),(0,u._1)({title:"Update this user",message:"Are you sure?",buttons:[{label:"Yes",onClick:function(){var e=(0,t.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.mutateAsync({sid:s,uid:n});case 2:200===(null===(t=e.sent)||void 0===t?void 0:t.status)&&I();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No"}]});case 2:case"end":return e.stop()}}),e)})));return function(s,n){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){w(""),f(1)}),[]),(0,x.jsx)(d.rb,{children:(0,x.jsx)(d.b7,{md:12,children:(0,x.jsxs)(d.xH,{children:[(0,x.jsx)(d.bn,{children:(0,x.jsx)("strong",{children:"All Users"})}),(0,x.jsxs)(d.sl,{children:[(0,x.jsx)(d.rb,{className:"mb-4",children:(0,x.jsx)(d.b7,{xs:6,children:(0,x.jsx)(d.lx,{className:"d-flex",children:(0,x.jsx)(d.jO,{type:"search",className:"me-2",placeholder:"Search: 'User ID'",name:"search",value:k,onChange:function(e){w(e.target.value),f(1)}})})})}),(0,x.jsx)(d.rb,{className:"table-row",children:(0,x.jsxs)(d.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,x.jsx)(d.V,{color:"light",children:(0,x.jsxs)(d.T6,{children:[(0,x.jsx)(d.is,{children:"S. No."}),(0,x.jsx)(d.is,{children:"Name"}),(0,x.jsx)(d.is,{children:"User Id"}),(0,x.jsx)(d.is,{children:"Status"}),(0,x.jsx)(d.is,{children:"Sponser By"}),(0,x.jsx)(d.is,{children:"Action"})]})}),(0,x.jsx)(d.NR,{children:null===B||void 0===B?void 0:B.map((function(s,n){var r,t,i=(null===s||void 0===s?void 0:s.sponserBy)&&(null===s||void 0===s?void 0:s.sponserBy[0]),l=null===i||void 0===i||null===(r=i.childs[0])||void 0===r?void 0:r.sponserBy;return(0,x.jsxs)(d.T6,{"v-for":"item in tableItems",children:[(0,x.jsx)(d.NN,{children:n+1}),(0,x.jsxs)(d.NN,{children:[(0,x.jsx)("div",{children:s.firstName+" "+s.lastName}),(0,x.jsxs)("div",{className:"small text-medium-emphasis",children:["Registered on: ",h.YM.formatRegister(s.createdAt)]}),(0,x.jsx)("div",{className:"small text-medium-emphasis",children:s.isCompleted&&"Active on: ".concat(h.YM.formatRegister(s.updatedAt))})]}),(0,x.jsx)(d.NN,{children:s.uId}),(0,x.jsx)(d.NN,{children:(0,x.jsx)("h5",{children:(0,x.jsx)(d.C_,{id:s._id,onClick:L,role:"button",color:s.isCompleted?"success":"danger",children:s.isCompleted?"Active":"Inactive"})})}),(0,x.jsx)(d.NN,{children:l?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{children:(null===l||void 0===l?void 0:l.firstName)+" "+(null===l||void 0===l?void 0:l.lastName)+" ("+(null===l||void 0===l?void 0:l.uId)+")"}),(0,x.jsxs)("div",{className:"small text-medium-emphasis",children:["Position: ",(0,x.jsx)("b",{children:null===i||void 0===i||null===(t=i.childs[0])||void 0===t?void 0:t.placement})]})]}):(0,x.jsx)("div",{className:"mb-3",children:(0,x.jsxs)(d.LX,{className:"selectpicker","aria-label":"Default select example",name:"sponserId",onChange:function(e){return M(e.target.value,s._id)},"data-live-search":"true",children:[U&&(0,x.jsx)("option",{value:"",children:"Loading.."}),(0,x.jsx)("option",{value:"",children:"Select Sponser"}),null===_||void 0===_?void 0:_.users.map((function(e,s){return(0,x.jsx)("option",{value:e._id,children:"".concat(e.firstName," ").concat(e.lastName," (").concat(e.uId,")")},s)}))]})})}),(0,x.jsxs)(d.NN,{className:"gap-2",children:[(0,x.jsx)("h5",{role:"button",onClick:function(){return e("/payments",{state:{id:s._id,name:s.firstName+" "+s.lastName,uId:s.uId}})},children:(0,x.jsx)(d.C_,{color:"success",children:"View"})}),(0,x.jsx)("h5",{onClick:function(){return n=s._id,void e("/".concat(n));var n},children:(0,x.jsx)(d.C_,{role:"button",color:"success",children:"Edit"})})]})]},n)}))})]})}),!U&&(0,x.jsx)("div",{className:"mt-4",children:(0,x.jsx)(m.ZP,{current:g,total:Math.ceil(q/v),onPageChange:C})})]})]})})})}}}]);
//# sourceMappingURL=205.e9ff22ea.chunk.js.map