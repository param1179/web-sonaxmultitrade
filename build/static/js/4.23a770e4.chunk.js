"use strict";(self.webpackChunksonaxmultitrade=self.webpackChunksonaxmultitrade||[]).push([[4],{29004:function(i,e,n){n.r(e),n.d(e,{default:function(){return T}});var l=n(1413),d=n(74165),t=n(15861),s=n(29439),o=n(30168),r=n(72791),a=n(82035),c=n(58393),u=n(90082),v=n(51692),h=n(29352),p=n(57689),x=n(78983),m=n(80184);var f=function i(e){var n,l,d,t=e.count,s=e.item,o=e.num,u=e.StyledNode,v=e.pId,f=(0,p.s0)(),j=s.childId,g=s.parentId;(0,r.useEffect)((function(){t+=1}),[]);var b,I=a.g8.useGetTeams(j._id),N=I.isloading,Z=I.data,C=200===(null===Z||void 0===Z?void 0:Z.status)&&(null===Z||void 0===Z||null===(n=Z.data)||void 0===n?void 0:n.parentId),S=200===(null===Z||void 0===Z?void 0:Z.status)?null===Z||void 0===Z||null===(l=Z.data)||void 0===l?void 0:l.childs:[],y=S&&0!==S.length;return y&&"Right"===(null===Z||void 0===Z||null===(d=Z.data)||void 0===d?void 0:d.childs[0].placement)&&(S=null===Z||void 0===Z||null===(b=Z.data)||void 0===b?void 0:b.childs.reverse()),(0,m.jsx)(c.O,{label:(0,m.jsx)(u,{children:(0,m.jsxs)("div",{role:"button",onClick:function(){return j.uId?f("/users",{state:{userId:j._id}}):f("/add",{state:{pId:"string"===typeof v?v:g,placement:0===o?"Left":"Right"}})},children:[(0,m.jsx)(x.DW,{src:h,height:50,alt:"Logo"}),(0,m.jsxs)("div",{className:j.uId?"border border-success tree-content ".concat(j.isCompleted?"app-bg-active":"app-bg-inactive"):"border border-success tree-content app-bg-2",children:[(0,m.jsx)("div",{children:j.uId?j.uId:""}),(0,m.jsx)("div",{children:j.firstName})]})]})}),children:y&&t<6?S.map((function(e,n){return N?(0,m.jsx)(m.Fragment,{children:"OK"}):(0,m.jsx)(i,{item:e,num:n,StyledNode:u,pId:C},n)})):null},o)},j=n(24846),g=n(22655);var b=n(93433),I=n(22469),N=[];var Z=function i(e){var n,l,d=e.count,t=e.item,s=e.num,o=e.StyledNode,c=t.childId;N=[].concat((0,b.Z)(N),[null!==(null===c||void 0===c?void 0:c._id)&&c]),(0,r.useEffect)((function(){d+=1}),[]);var u=a.g8.useGetTeams(null===c||void 0===c?void 0:c._id),v=u.isloading,h=u.data,p=(200===(null===h||void 0===h?void 0:h.status)&&(null===h||void 0===h||null===(n=h.data)||void 0===n||n.parentId),200===(null===h||void 0===h?void 0:h.status)?null===h||void 0===h||null===(l=h.data)||void 0===l?void 0:l.childs:[]),f=p&&0!==p.length;return(0,m.jsxs)(m.Fragment,{children:[null!==c._id&&(0,m.jsxs)(x.T6,{"v-for":"item in tableItems",children:[(0,m.jsx)(x.NN,{children:"#"}),(0,m.jsxs)(x.NN,{children:[(0,m.jsx)("div",{children:(null===c||void 0===c?void 0:c.firstName)+" "+(null===c||void 0===c?void 0:c.lastName)}),(0,m.jsxs)("div",{className:"small text-medium-emphasis",children:[(0,m.jsx)("span",{children:"New |"})," Registered on: ",I.YM.formatRegister(null===c||void 0===c?void 0:c.createdAt)]})]}),(0,m.jsx)(x.NN,{children:null===c||void 0===c?void 0:c.uId}),(0,m.jsx)(x.NN,{children:(0,m.jsx)("h5",{children:(0,m.jsx)(x.C_,{id:null===c||void 0===c?void 0:c._id,color:null!==c&&void 0!==c&&c.isCompleted?"success":"danger",children:null!==c&&void 0!==c&&c.isCompleted?"Active":"Inactive"})})})]},s),f?p.map((function(e,n){var l;return v&&null===(null===e||void 0===e||null===(l=e.childId)||void 0===l?void 0:l._id)?(0,m.jsx)(m.Fragment,{children:"OK"}):(0,m.jsx)(i,{count:d++,item:e,num:n,StyledNode:o},n)})):null]})};var C,S=n(70610),y=u.ZP.div(C||(C=(0,o.Z)(["\n  padding: 5px;\n  display: inline-block;\n"])));var T=function(){var i,e,n,o,u,b,I,N,C,T,_,k,L,R=(0,p.TH)().state,w=void 0===R?null:R,A=(0,p.TH)(),D=(0,p.s0)(),G=(0,v.getProfileData)(),E=(0,r.useState)(1),F=(0,s.Z)(E,2),O=F[0],H=F[1],P=(0,r.useState)({total:0,active:0,inActive:0}),W=(0,s.Z)(P,2),K=(W[0],W[1],(0,r.useState)({visible:!1,position:"Left"})),M=(0,s.Z)(K,2),z=M[0],B=M[1],U=(0,r.useState)(0),V=(0,s.Z)(U,2),Y=V[0],q=V[1],J=(0,r.useState)(0),Q=(0,s.Z)(J,2),X=Q[0],$=Q[1];(0,r.useEffect)((function(){D(A.pathname,{})}),[O]),(0,r.useEffect)((function(){function i(){return i=(0,t.Z)((0,d.Z)().mark((function i(){return(0,d.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,S.Z.get("users/teamList/".concat(G._id,"?position=Left")).then((function(i){q(null===i||void 0===i?void 0:i.active)})).then(function(){var i=(0,t.Z)((0,d.Z)().mark((function i(e){return(0,d.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,S.Z.get("users/teamList/".concat(G._id,"?position=Right"));case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).then((function(i){$(null===i||void 0===i?void 0:i.active)}));case 2:case"end":return i.stop()}}),i)}))),i.apply(this,arguments)}!function(){i.apply(this,arguments)}()}),[]);var ii,ei=w&&null!==w&&void 0!==w&&w.userId?null===w||void 0===w?void 0:w.userId:G._id,ni=a.g8.useGetTeams(ei).data,li=a.g8.useGetDirectTeams().data,di=a.g8.useGetTeamList(z.position,ei),ti=di.isLoading,si=di.data,oi=di.refetch,ri=null===ni||void 0===ni||null===(i=ni.data)||void 0===i?void 0:i.childs;return"Right"===(null===ni||void 0===ni||null===(e=ni.data)||void 0===e?void 0:e.childs[0].placement)&&(ri=null===ni||void 0===ni||null===(ii=ni.data)||void 0===ii?void 0:ii.childs.reverse()),(0,r.useEffect)((function(){oi()}),[z.position]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.rb,{children:(0,m.jsx)(x.b7,{xs:12,children:(0,m.jsxs)(x.xH,{className:"mb-4",children:[(0,m.jsxs)(x.bn,{children:[(0,m.jsx)("strong",{children:"All Team's Tree"}),(0,m.jsxs)(x.u5,{color:"primary mx-2",className:"float-end",children:["Direct: ",null===li||void 0===li?void 0:li.direct]})]}),(0,m.jsxs)(x.sl,{className:"divScroll",children:[w&&(null===w||void 0===w?void 0:w.userId)&&(0,m.jsxs)(x.u5,{size:"sm",onClick:function(){return H(Math.random())},children:["Go to top",(0,m.jsx)(j.Z,{icon:g.T})]}),(0,m.jsxs)(x.u5,{color:"primary mx-2",onClick:function(){return B({visible:!z.visible,position:"Right"})},className:"float-end",children:["Right ",X]}),(0,m.jsxs)(x.u5,{color:"primary mx-2",onClick:function(){return B({visible:!z.visible,position:"Left"})},className:"",children:["Left ",Y]}),(0,m.jsx)(c.m,{lineWidth:"2px",lineColor:"green",lineBorderRadius:"10px",label:(0,m.jsxs)(y,{children:[(0,m.jsx)(x.DW,{src:h,height:50,alt:"Logo"}),(0,m.jsxs)("div",{className:"border border-success tree-content ".concat(w?null!==ni&&void 0!==ni&&null!==(u=ni.data)&&void 0!==u&&null!==(b=u.parentId)&&void 0!==b&&b.isCompleted?"app-bg-active":"app-bg-inactive":null!==ni&&void 0!==ni&&null!==(n=ni.data)&&void 0!==n&&null!==(o=n.parentId)&&void 0!==o&&o.isCompleted?"app-bg-active":"app-bg-top"),children:[(0,m.jsx)("div",{children:null!==ni&&void 0!==ni&&null!==(I=ni.data)&&void 0!==I&&null!==(N=I.parentId)&&void 0!==N&&N.uId?null===ni||void 0===ni||null===(C=ni.data)||void 0===C||null===(T=C.parentId)||void 0===T?void 0:T.uId:""}),(0,m.jsx)("div",{children:null===ni||void 0===ni||null===(_=ni.data)||void 0===_||null===(k=_.parentId)||void 0===k?void 0:k.firstName})]})]}),children:ri&&(null===(L=ri)||void 0===L?void 0:L.map((function(i,e){return(0,m.jsx)(f,{count:0,item:i,num:e,StyledNode:y,pId:null===ni||void 0===ni?void 0:ni.data.parentId},e)})))})]})]})})}),(0,m.jsxs)(x.Tk,{fullscreen:"lg",visible:z.visible,onClose:function(){B((0,l.Z)((0,l.Z)({},z),{},{visible:!1}))},children:[(0,m.jsx)(x.p0,{children:(0,m.jsxs)(x.fl,{children:[z.position," Side Team List"]})}),(0,m.jsx)(x.sD,{className:"overflow-auto",children:(0,m.jsxs)(x.rb,{children:[!ti&&(0,m.jsxs)(x.PO,{children:[(0,m.jsx)("h5",{children:(0,m.jsx)(x.C_,{color:"primary",children:"Total: "+(null===si||void 0===si?void 0:si.total)})}),(0,m.jsx)("h5",{children:(0,m.jsx)(x.C_,{color:"success",children:"Active: "+(null===si||void 0===si?void 0:si.active)})}),(0,m.jsx)("h5",{children:(0,m.jsx)(x.C_,{color:"danger",children:"Inactive: "+(null===si||void 0===si?void 0:si.inActive)})})]}),(0,m.jsxs)(x.Sx,{align:"middle",bordered:!0,className:"mb-0 border",hover:!0,responsive:!0,striped:!0,children:[(0,m.jsx)(x.V,{color:"light",children:(0,m.jsxs)(x.T6,{children:[(0,m.jsx)(x.is,{children:"S. No."}),(0,m.jsx)(x.is,{children:"Name"}),(0,m.jsx)(x.is,{children:"User Id"}),(0,m.jsx)(x.is,{children:"Status"})]})}),(0,m.jsx)(x.NR,{children:ri&&(0,m.jsx)(Z,{count:0,item:ri.filter((function(i){return i.placement===z.position}))[0],num:0,StyledNode:y,pId:null===ni||void 0===ni?void 0:ni.data.parentId},0)})]})]})})]})]})}}}]);
//# sourceMappingURL=4.23a770e4.chunk.js.map